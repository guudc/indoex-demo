{"version":3,"sources":["pages/Admin/users.tsx","functions/admin.js"],"names":["styled","table","props","width","height","div","tr","background","th","fontWeight","td","textAlign","Users","useState","users","state","setState","perPage","size","setSize","current","setCurrent","loading","setLoading","token","isAuthenticated","fatchUsers","a","getUsers","then","data","console","log","hasUsers","length","useEffect","PerPageChange","value","newPerPage","Math","ceil","PaginationChange","page","pageSize","PrevNextArrow","type","originalElement","className","showTotal","total","range","onChange","showSizeChanger","itemRender","onShowSizeChange","slice","getData","map","index","key","_id","email","role","verified","toString","fetch","process","method","headers","Accept","Authorization","response","json","catch","err","getAirdrops"],"mappings":"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","file":"static/js/22.920389e9.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport Pagination from 'rc-pagination'\nimport './users.css'\nimport { isAuthenticated } from './../../helper/auth'\nimport { getUsers } from './../../functions/admin'\nimport Loader from 'src/components/Loader'\n\ninterface TableProps {\n\twidth: string\n\theight: string\n}\n\nconst Table = styled.table<TableProps>`\n\twidth: ${(props) => props.width};\n\theight: ${(props) => props.height};\n\tborder-collapse: collapse;\n`\n\nconst Bottom = styled.div`\n\talign-items: center;\n\tborder: none;\n\tpadding: 10px;\n\toutline: none;\n\tdisplay: flex;\n\talign-items: center;\n\ttext-transform: uppercase;\n\tfont-size: 1rem;\n\tcolor: #fff;\n\tbackground-color: #7eb946;\n\tborder-radius: 4px;\n`\nconst Bottom2 = styled.div`\n\talign-items: center;\n\tborder: none;\n\tpadding: 10px;\n\toutline: none;\n\tdisplay: flex;\n\talign-items: center;\n\ttext-transform: uppercase;\n\tfont-size: 1rem;\n\tcolor: #fff;\n\tbackground-color: red;\n\tborder-radius: 4px;\n`\n\ninterface TableRowProps {\n\tbackground: string\n}\n\nconst TableRow = styled.tr<TableRowProps>`\n\tbackground-color: ${(props) => props.background};\n`\n\ninterface TableHeaderProps {\n\tfontWeight: string\n}\n\nconst TableHeader = styled.th<TableHeaderProps>`\n\tfont-weight: ${(props) => props.fontWeight};\n\tpadding: 10px;\n\tborder-bottom: 1px solid black;\n`\n\ninterface TableDataProps {\n\ttextAlign: string\n}\n\nconst TableData = styled.td<TableDataProps>`\n\ttext-align: ${(props) => props.textAlign};\n\tpadding: 10px;\n\tborder-bottom: 1px solid black;\n`\n\nconst Users: React.FC = () => {\n\tconst [state, setState] = useState({\n\t\tusers: []\n\t} as any)\n\tconst [perPage, setPerPage] = useState(50)\n\tconst [size, setSize] = useState(perPage)\n\tconst [current, setCurrent] = useState(1)\n\tconst [loading, setLoading] = useState(false)\n\tconst [key, setKey] = useState(1)\n\tconst { token } = isAuthenticated()\n\n\tconst fatchUsers = async () => {\n\t\tsetLoading(true)\n\t\tgetUsers(token).then((data) => {\n\t\t\tconsole.log(data)\n\t\t\tif (data) {\n\t\t\t\tsetState({ ...state, users: [...data.users] })\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t})\n\t}\n\tconst { users } = state\n\tconst hasUsers = users.length > 0\n\n\tuseEffect(() => {\n\t\tfatchUsers()\n\t}, [])\n\n\tconst PerPageChange = (value) => {\n\t\tsetSize(value)\n\t\tconst newPerPage = Math.ceil(users.length / value)\n\t\tif (current > newPerPage) {\n\t\t\tsetCurrent(newPerPage)\n\t\t}\n\t}\n\n\tconst getData = (current, pageSize) => {\n\t\t// Normally you should get the data from the server\n\t\treturn users.slice((current - 1) * pageSize, current * pageSize)\n\t}\n\n\tconst PaginationChange = (page, pageSize) => {\n\t\tsetCurrent(page)\n\t\tsetSize(pageSize)\n\t}\n\n\tconst PrevNextArrow = (current, type, originalElement) => {\n\t\tif (type === 'prev') {\n\t\t\treturn (\n\t\t\t\t<button>\n\t\t\t\t\t<i className=\"fa fa-angle-double-left\"></i>\n\t\t\t\t</button>\n\t\t\t)\n\t\t}\n\t\tif (type === 'next') {\n\t\t\treturn (\n\t\t\t\t<button>\n\t\t\t\t\t<i className=\"fa fa-angle-double-right\"></i>\n\t\t\t\t</button>\n\t\t\t)\n\t\t}\n\t\treturn originalElement\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<>\n\t\t\t\t\t<h2>Loading users...Please wait</h2>\n\t\t\t\t\t<Loader />\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t{hasUsers ? (\n\t\t\t\t\t\t<div className=\"container-fluid users mt-5 mb-5\">\n\t\t\t\t\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t\t\t\t\t<div className=\"col-md-10\">\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body p-0\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-filter-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"pagination-data\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowTotal={(total, range) => `Showing ${range[0]}-${range[1]} of ${total}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={PaginationChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={users.length}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\t\t\t\t\t\t\t\tpageSize={size}\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowSizeChanger={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\titemRender={PrevNextArrow}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonShowSizeChange={PerPageChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t\t\t\t\t\t\t\t<table className=\"table table-text-small mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<thead className=\"thead-primary table-sorting\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Email</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Role</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>isVerified</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <th>Update</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Delete</th> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{getData(current, size).map((data, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{console.log(data)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data._id}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data.email}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data.role}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data.verified.toString()}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <td><Bottom>Edit</Bottom></td> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <td><Bottom2>Delete</Bottom2></td> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-filter-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"pagination-data\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowTotal={(total, range) => `Showing ${range[0]}-${range[1]} of ${total}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={PaginationChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={users.length}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\t\t\t\t\t\t\t\tpageSize={size}\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowSizeChanger={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\titemRender={PrevNextArrow}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonShowSizeChange={PerPageChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<h4>No User</h4>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default Users\n","export const getUsers = (token) => {\n\treturn fetch(`${process.env.REACT_APP_BACKEND_API}/admin/users`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then((response) => {\n\t\t\treturn response.json()\n\t\t})\n\t\t.catch((err) => console.log(err))\n}\n\nexport const getAirdrops = (token) => {\n\treturn fetch(`${process.env.REACT_APP_BACKEND_API}/admin/airdrops`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then((response) => {\n\t\t\treturn response.json()\n\t\t})\n\t\t.catch((err) => console.log(err))\n}\n"],"sourceRoot":""}