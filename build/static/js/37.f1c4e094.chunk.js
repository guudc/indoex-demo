(this["webpackJsonpdxswap-dapp"]=this["webpackJsonpdxswap-dapp"]||[]).push([[37],{1263:function(e,t,a){"use strict";a.r(t);var n,o,l,i,s,r,c,d,u,_,p,m,k,f,v,y,b=a(0),g=a.n(b),O=a(166),h=(a(696),a(58)),w=a(14),T=a(139),j=a.n(T),I=a(22),E=a(66),S=a(33),N=function(e,t){if(l&&l.length>0){for(var a,n=!1,o=0;o<l.length;o++)null!=(a=Object(O.a)("stake_other_pool_view_".concat(l[o]._pool.poolId)))&&(e.live?l[o].ended?a.style.display="none":e.all&&x(t,l[o])||e.staked&&l[o].totalStaked>0&&x(t,l[o])?(a.style.display="",n=!0):a.style.display="none":l[o].ended&&(e.all&&x(t,l[o])||e.staked&&l[o].totalStaked>0&&x(t,l[o]))?(a.style.display="",n=!0):a.style.display="none");var i=Object(O.a)("stake_other_pool_empty");i.innerHTML=n?"":M()}},x=function(e,t){if(null!=t){if(""!=e){var a,n,l,i,s,r=!1;return s=e.replace(/[^0-9]/g,""),(t._pool.poolId+"").indexOf(s+"")>-1&&""!=s&&(r=!0),r=(r=(r=(r=r||(t._pool.stakeTokenInfo.symbol||(null===(a=Object(O.g)(o))||void 0===a?void 0:a.symbol)).toLowerCase().indexOf(e)>-1)||(t._pool.stakeTokenInfo.name||(null===(n=Object(O.g)(o))||void 0===n?void 0:n.name)).toLowerCase().indexOf(e)>-1)||(t._pool.rewardTokenInfo.symbol||(null===(l=Object(O.g)(o))||void 0===l?void 0:l.symbol)).toLowerCase().indexOf(e)>-1)||(t._pool.rewardTokenInfo.name||(null===(i=Object(O.g)(o))||void 0===i?void 0:i.name)).toLowerCase().indexOf(e)>-1}return!0}return!1},U=function(e,t){if(l.length>0&&("create"==e.sortBy?l.sort((function(t,a){return"down"==e.sortType?a._pool.time[0]-t._pool.time[0]:t._pool.time[0]-a._pool.time[0]})):"mine"==e.sortBy?l.sort((function(t,a){return"down"==e.sortType?a.totalStaked-t.totalStaked:t.totalStaked-a.totalStaked})):"earned"==e.sortBy?l.sort((function(t,a){return"down"==e.sortType?a.reward-t.reward:t.reward-a.reward})):"total"==e.sortBy&&l.sort((function(t,a){return"down"==e.sortType?a._pool.totalStaked-t._pool.totalStaked:t._pool.totalStaked-a._pool.totalStaked})),t)){var a,n=Object(O.a)("stake_other_pool_results");if(null!=n)for(var o=0;o<l.length;o++)null!=(a=Object(O.a)("stake_other_pool_view_".concat(l[o]._pool.poolId)))&&n.appendChild(a)}},C=function(e){var t,a,l,i,s;i=1==e._pool.stakers?Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e._pool.stakers)+" Staker":e._pool.stakers>1?Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e._pool.stakers)+" Stakers":"";var r,c=Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e.totalStaked/Math.pow(10,1*e._pool.stakeTokenInfo.decimal)),d=Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e.reward/Math.pow(10,1*e._pool.rewardTokenInfo.decimal)),u=Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e._pool.totalStaked/Math.pow(10,1*e._pool.stakeTokenInfo.decimal)),_=Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e._pool.yield/Math.pow(10,1*e._pool.rewardTokenInfo.decimal));1==e._pool.yieldType?s=_+" units per 1"+(e._pool.stakeTokenInfo.symbol||(null===(r=Object(O.g)(o))||void 0===r?void 0:r.symbol))+" ":s=_+"% ";return 1==e._pool.yieldDuration?s+="daily yield":2==e._pool.yieldDuration?s+="weekly yield":3==e._pool.yieldDuration?s+="monthly yield":4==e._pool.yieldDuration&&(s+="yearly yield"),function(e){Object(O.h)("stake_other_pool_view_stakeimg_".concat(e._pool.poolId),(function(){var t=Object(O.a)("stake_other_pool_view_stakeimg_".concat(e._pool.poolId)),a=Object(O.a)("stake_other_pool_view_stakename_".concat(e._pool.poolId)),l=Object(O.a)("stake_other_pool_view_earnimg_".concat(e._pool.poolId)),i=Object(O.a)("stake_other_pool_view_earnname_".concat(e._pool.poolId));if(null!=t&&null!=a&&null!=l&&null!=i){if(e._pool.stakeTokenInfo.tokenAddress in n)t.src=n[e._pool.stakeTokenInfo.tokenAddress].tokenInfo.logoURI,a.innerHTML="Stake "+e._pool.stakeTokenInfo.symbol;else if(e._pool.stakeTokenInfo.tokenAddress==S.s){var s=Object(O.g)(o);void 0!=s&&(t.src=s.logo,a.innerHTML="Stake "+s.symbol)}else t.src=j.a,a.innerHTML="Stake "+e._pool.stakeTokenInfo.symbol;if(e._pool.rewardTokenInfo.tokenAddress in n)l.src=n[e._pool.rewardTokenInfo.tokenAddress].tokenInfo.logoURI,i.innerHTML="Earn <b>"+e._pool.rewardTokenInfo.symbol+"</b>";else if(e._pool.rewardTokenInfo.tokenAddress==S.s){var r=Object(O.g)(o);void 0!=r&&(l.src=r.logo,i.innerHTML="Earn <b>"+r.symbol+"</b>")}else l.src=j.a,i.innerHTML="Earn <b>"+e._pool.rewardTokenInfo.symbol+"</b>"}Object(O.a)("stake_other_pool_view_".concat(e._pool.poolId)).onclick=function(){P(e._pool.poolId)}}))}(e),"<div id='stake_other_pool_view_".concat(e._pool.poolId,"' class='topGravity stake_pool' >\n    <div class='leftGravity stake_pool_top'>\n        <span>Pool").concat(e._pool.poolId,"</span>\n    </div>\n    <div class='leftGravity'>\n        <div class='leftGravity stake_div'>\n            <div class='leftGravity centre '>\n                <img id='stake_other_pool_view_stakeimg_").concat(e._pool.poolId,"'  class='stake_icon circle' />\n                <img id='stake_other_pool_view_earnimg_").concat(e._pool.poolId,"'  class='stake_earn_icon circle' />\n            </div>\n            <div class='topGravity stake_token_font'>\n                <span id='stake_other_pool_view_stakename_").concat(e._pool.poolId,"'></span>\n                <span id='stake_other_pool_view_earnname_").concat(e._pool.poolId,"' style='color:limegreen'></span>\n            </div>\n        </div>\n        <div class='leftGravity stake_token_font stake_div'>\n            <div class='topGravity stake_div_div'>\n                <span style='fontSize:12px'>Your Stake</span>\n                <span class='staked_amount'>").concat(c," ").concat(e._pool.stakeTokenInfo.symbol||(null===(t=Object(O.g)(o))||void 0===t?void 0:t.symbol),"</span>\n            </div>\n        </div>\n        <div class='leftGravity stake_token_font stake_div'>\n            <div class='topGravity stake_div_div'>\n                <span style={{fontSize:'12px'}}>Reward earned</span>\n                <span class='staked_amount' style='color:limegreen'>").concat(d," ").concat(e._pool.rewardTokenInfo.symbol||(null===(a=Object(O.g)(o))||void 0===a?void 0:a.symbol),"</span>\n            </div>\n        </div>\n        <div class='leftGravity stake_token_font stake_div'>\n            <div class='topGravity stake_div_div'>\n                <span style='fontSize:12px'>Total Staked</span>\n                <span class='staked_amount'>").concat(u," ").concat(e._pool.stakeTokenInfo.symbol||(null===(l=Object(O.g)(o))||void 0===l?void 0:l.symbol),"</span>\n            </div>\n        </div>\n        \n    </div>\n    <div class='leftGravity stake_pool_bottom'>\n        <span style='margin-left:auto; margin-right:10px'>").concat(i,"</span>\n        <span>").concat(s,"</span>\n    </div>\n    </div>")},L=function(){return console.log(0),"<div class='stake_empty' style='margin-top:32px'>\n    There are no staking pools created yet\n        </div>"},M=function(){return"<div class='stake_empty' style='margin-top:32px'>\n    No staking pools found\n        </div>"},P=function(e){window.location.href="#/stakeview?id="+e},H=function(){var e=Object(I.a)(),t=e.account,a=e.chainId;return o=a,n=Object(E.a)(),g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{id:"stake_other_pool",style:{display:"none"}},g.a.createElement("div",{id:"stake_other_pool_info"},t?g.a.createElement("div",{className:"stake_loading"},g.a.createElement("span",{className:"fas fa-spinner fa-spin",style:{marginRight:"15px"}}),g.a.createElement("span",null,"Fetching staking pools")):g.a.createElement(h.e,{marginTop:"60px"},g.a.createElement(w.g.body,{fontSize:"14px",lineHeight:"17px",textAlign:"center"},"Connect to a wallet to view stake pool."))),g.a.createElement("div",{id:"stake_other_pool_results",style:{display:"none"}})))},G=function(e,t){if(r&&r.length>0){for(var a,n=!1,o=0;o<r.length;o++)null!=(a=Object(O.a)("stake_my_pool_view_".concat(r[o]._pool.poolId)))&&(e.live?r[o].ended?a.style.display="none":e.all&&D(t,r[o])||e.staked&&r[o].totalStaked>0&&D(t,r[o])?(a.style.display="",n=!0):a.style.display="none":r[o].ended&&(e.all&&D(t,r[o])||e.staked&&r[o].totalStaked>0&&D(t,r[o]))?(a.style.display="",n=!0):a.style.display="none");var l=Object(O.a)("stake_pool_empty");l.innerHTML=n?"":R()}},R=function(){return"<div class='stake_empty' style='margin-top:32px'>\n    No staking pools found\n        </div>"},D=function(e,t){if(null!=t){if(""!=e){var a,n,o,l,i,r=!1;return i=e.replace(/[^0-9]/g,""),(t._pool.poolId+"").indexOf(i+"")>-1&&""!=i&&(r=!0),r=(r=(r=(r=r||(t._pool.stakeTokenInfo.symbol||(null===(a=Object(O.g)(s))||void 0===a?void 0:a.symbol)).toLowerCase().indexOf(e)>-1)||(t._pool.stakeTokenInfo.name||(null===(n=Object(O.g)(s))||void 0===n?void 0:n.name)).toLowerCase().indexOf(e)>-1)||(t._pool.rewardTokenInfo.symbol||(null===(o=Object(O.g)(s))||void 0===o?void 0:o.symbol)).toLowerCase().indexOf(e)>-1)||(t._pool.rewardTokenInfo.name||(null===(l=Object(O.g)(s))||void 0===l?void 0:l.name)).toLowerCase().indexOf(e)>-1}return!0}return!1},B=function(e,t){if(r.length>0&&("create"==e.sortBy?r.sort((function(t,a){return"down"==e.sortType?a._pool.time[0]-t._pool.time[0]:t._pool.time[0]-a._pool.time[0]})):"mine"==e.sortBy?r.sort((function(t,a){return"down"==e.sortType?a.totalStaked-t.totalStaked:t.totalStaked-a.totalStaked})):"earned"==e.sortBy?r.sort((function(t,a){return"down"==e.sortType?a.reward-t.reward:t.reward-a.reward})):"total"==e.sortBy&&r.sort((function(t,a){return"down"==e.sortType?a._pool.totalStaked-t._pool.totalStaked:t._pool.totalStaked-a._pool.totalStaked})),t)){var a,n=Object(O.a)("stake_my_pool_results");if(null!=n)for(var o=0;o<r.length;o++)null!=(a=Object(O.a)("stake_my_pool_view_".concat(r[o]._pool.poolId)))&&n.appendChild(a)}},F=function(e){var t,a,n,o,l;o=1==e._pool.stakers?Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e._pool.stakers)+" Staker":e._pool.stakers>1?Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e._pool.stakers)+" Stakers":"";var r,c=Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e.totalStaked/Math.pow(10,1*e._pool.stakeTokenInfo.decimal)),d=Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e.reward/Math.pow(10,1*e._pool.rewardTokenInfo.decimal)),u=Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e._pool.totalStaked/Math.pow(10,1*e._pool.stakeTokenInfo.decimal)),_=Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(e._pool.yield/Math.pow(10,1*e._pool.rewardTokenInfo.decimal));1==e._pool.yieldType?l=_+" units per 1"+(e._pool.stakeTokenInfo.symbol||(null===(r=Object(O.g)(s))||void 0===r?void 0:r.symbol))+" ":l=_+"% ";return 1==e._pool.yieldDuration?l+="daily yield":2==e._pool.yieldDuration?l+="weekly yield":3==e._pool.yieldDuration?l+="monthly yield":4==e._pool.yieldDuration&&(l+="yearly yield"),function(e){Object(O.h)("stake_my_pool_view_stakeimg_".concat(e._pool.poolId),(function(){var t=Object(O.a)("stake_my_pool_view_stakeimg_".concat(e._pool.poolId)),a=Object(O.a)("stake_my_pool_view_stakename_".concat(e._pool.poolId)),n=Object(O.a)("stake_my_pool_view_earnimg_".concat(e._pool.poolId)),o=Object(O.a)("stake_my_pool_view_earnname_".concat(e._pool.poolId));if(null!=t&&null!=a&&null!=n&&null!=o){if(e._pool.stakeTokenInfo.tokenAddress in i)t.src=i[e._pool.stakeTokenInfo.tokenAddress].tokenInfo.logoURI,a.innerHTML="Stake "+e._pool.stakeTokenInfo.symbol;else if(e._pool.stakeTokenInfo.tokenAddress==S.s){var l=Object(O.g)(s);void 0!=l&&(t.src=l.logo,a.innerHTML="Stake "+l.symbol)}else t.src=j.a,a.innerHTML="Stake "+e._pool.stakeTokenInfo.symbol;if(e._pool.rewardTokenInfo.tokenAddress in i)n.src=i[e._pool.rewardTokenInfo.tokenAddress].tokenInfo.logoURI,o.innerHTML="Earn <b>"+e._pool.rewardTokenInfo.symbol+"</b>";else if(e._pool.rewardTokenInfo.tokenAddress==S.s){var r=Object(O.g)(s);void 0!=r&&(n.src=r.logo,o.innerHTML="Earn <b>"+r.symbol+"</b>")}else n.src=j.a,o.innerHTML="Earn <b>"+e._pool.rewardTokenInfo.symbol+"</b>";Object(O.a)("stake_my_pool_view_".concat(e._pool.poolId)).onclick=function(){A(e._pool.poolId)}}}))}(e),"<div id='stake_my_pool_view_".concat(e._pool.poolId,"' class='topGravity stake_pool' >\n    <div class='leftGravity stake_pool_top'>\n        <span>Pool").concat(e._pool.poolId,"</span>\n    </div>\n    <div class='leftGravity'>\n        <div class='leftGravity stake_div'>\n            <div class='leftGravity centre '>\n                <img id='stake_my_pool_view_stakeimg_").concat(e._pool.poolId,"'  class='stake_icon circle' />\n                <img id='stake_my_pool_view_earnimg_").concat(e._pool.poolId,"'  class='stake_earn_icon circle' />\n            </div>\n            <div class='topGravity stake_token_font'>\n                <span id='stake_my_pool_view_stakename_").concat(e._pool.poolId,"'></span>\n                <span id='stake_my_pool_view_earnname_").concat(e._pool.poolId,"' style='color:limegreen'></span>\n            </div>\n        </div>\n        <div class='leftGravity stake_token_font stake_div'>\n            <div class='topGravity stake_div_div'>\n                <span style='fontSize:12px'>Your Stake</span>\n                <span class='staked_amount'>").concat(c," ").concat(e._pool.stakeTokenInfo.symbol||(null===(t=Object(O.g)(s))||void 0===t?void 0:t.symbol),"</span>\n            </div>\n        </div>\n        <div class='leftGravity stake_token_font stake_div'>\n            <div class='topGravity stake_div_div'>\n                <span style={{fontSize:'12px'}}>Reward earned</span>\n                <span class='staked_amount' style='color:limegreen'>").concat(d," ").concat(e._pool.rewardTokenInfo.symbol||(null===(a=Object(O.g)(s))||void 0===a?void 0:a.symbol),"</span>\n            </div>\n        </div>\n        <div class='leftGravity stake_token_font stake_div'>\n            <div class='topGravity stake_div_div'>\n                <span style='fontSize:12px'>Total Staked</span>\n                <span class='staked_amount'>").concat(u," ").concat(e._pool.stakeTokenInfo.symbol||(null===(n=Object(O.g)(s))||void 0===n?void 0:n.symbol),"</span>\n            </div>\n        </div>\n        \n    </div>\n    <div class='leftGravity stake_pool_bottom'>\n        <span style='margin-left:auto; margin-right:10px'>").concat(o,"</span>\n        <span>").concat(l,"</span>\n    </div>\n    </div>")},A=function(e){window.location.href="#/stakeview?id="+e},Y=function(){return"<div class='stake_empty' style='margin-top:32px'>\n    You have not set up a staking pool. To begin your own staking pool, click the \"Create Stake Pool\" button.\n        </div>"},z=function(){var e=Object(I.a)(),t=e.account,a=e.chainId;return s=a,i=Object(E.a)(),g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{id:"stake_my_pool",style:{display:"none"}},g.a.createElement("div",{id:"stake_my_pool_info"},t?g.a.createElement("div",{className:"stake_loading"},g.a.createElement("span",{className:"fas fa-spinner fa-spin",style:{marginRight:"15px"}}),g.a.createElement("span",null,"Fetching your staking pools")):g.a.createElement(h.e,{marginTop:"60px"},g.a.createElement(w.g.body,{fontSize:"14px",lineHeight:"17px",textAlign:"center"},"Connect to a wallet to view stake pool."))),g.a.createElement("div",{id:"stake_my_pool_results",style:{display:"none"}})))},W=a(13),q=a(18),J=a(125),V=a(102),K=a(24),Q=a(211),X=a(231),Z=a(7),$=a(36),ee=a(38),te=a(307),ae=a(199),ne=a.n(ae),oe=a(747),le=a.n(oe),ie=a(748),se=a.n(ie),re=a(671),ce="",de="0",ue="1",_e="daily",pe="0",me=0,ke="false",fe="0",ve=!1,ye="0x0000000000000000000000000000000000000000",be=0,ge=[],Oe=!1,he=function(e){var t=Object(O.a)(e);if(null!=t){var a=t.querySelector("input");if(null!=a)return a.value}return""},we=function(e,t){if(p){var a=Object(O.a)("stake_button");if(null!=a&&e!=c)if(a.disabled=!0,a.innerHTML="...",ke="false",e!=ye&&""!=e){var n=function(e){var t=se.a.chains[m];if(null!=t){var a=t.stake;return new te.ethers.Contract(e,le.a.token,_).allowance(p,a).then((function(e){return e}))}return!1}(e);0!=n&&n.then((function(e){a.disabled=!1,e>0?(a.innerHTML="Create",ke="true"):a.innerHTML="Grant access to "+t}))}else e==ye&&(a.innerHTML="Create",a.disabled=!1,ke="true")}},Te=function(){Object(b.useContext)(Z.ThemeContext);var e,t,a,n,o,l,i,s=Object(I.a)(),r=s.account,f=s.chainId,v=s.library;_=v,p=r,m=f;var y=Object(ee.k)();if(null!=f)try{var h=function(){var e=se.a.chains[m];if(null!=e){var t=e.stake;return new te.ethers.Contract(t,le.a.stake,_).CREATION_FEE().then((function(e){return e}))}return!1}();!1!==h&&h.then((function(e){be=e}))}catch(De){}var w=Object(b.useState)(!1),T=Object(q.a)(w,2),j=(T[0],T[1],Object(b.useState)(!1)),E=Object(q.a)(j,2),S=E[0],N=E[1];Oe=S;var x=Object(b.useState)(null),U=Object(q.a)(x,2),C=U[0],L=U[1],M=Object(V.e)(),P=M.independentField,H=M.typedValue,G=(M.recipient,P===K.a.INPUT?K.a.OUTPUT:K.a.INPUT),R=Object(V.d)(),D=R.onCurrencySelection,B=R.onUserInput,F=Object(V.c)(C||void 0),A=F.trade,Y=(F.allPlatformTrades,F.currencyBalances),z=F.parsedAmount,ae=F.currencies,oe=(F.inputError,Object(Q.b)(ae[K.a.INPUT],ae[K.a.OUTPUT],H)),ie=oe.wrapType,Te=(oe.execute,oe.inputError,Object(X.a)(Y[K.a.OUTPUT],f)),je=ie!==Q.a.NOT_APPLICABLE,Ie=je?void 0:A,Ee=je?(e={},Object(W.a)(e,K.a.INPUT,z),Object(W.a)(e,K.a.OUTPUT,z),e):(t={},Object(W.a)(t,K.a.INPUT,P===K.a.INPUT?z:null===Ie||void 0===Ie?void 0:Ie.inputAmount),Object(W.a)(t,K.a.OUTPUT,P===K.a.OUTPUT?z:null===Ie||void 0===Ie?void 0:Ie.outputAmount),t),Se=(i={},Object(W.a)(i,P,H),Object(W.a)(i,G,je?null!==(a=null===(n=Ee[P])||void 0===n?void 0:n.toExact())&&void 0!==a?a:"":null!==(o=null===(l=Ee[G])||void 0===l?void 0:l.toSignificant(6))&&void 0!==o?o:""),i),Ne=Object(b.useCallback)((function(e){L(null),D(K.a.INPUT,e)}),[D]),xe=Object(b.useCallback)((function(e){L(null),D(K.a.OUTPUT,e)}),[D]),Ue=Object(b.useCallback)((function(e){B(K.a.OUTPUT,e),de=e}),[B]),Ce=Object(b.useCallback)((function(){if(Te&&B(K.a.OUTPUT,Te.toExact()),void 0!=Te){var e=Te.toExact();de=e}}),[Te,B]),Le=Object(b.useMemo)((function(){return Object.values(ae).map((function(e){return function(e){return e?e.address?[e.address,e.symbol,e.decimals]:e.symbol?[ye,e.symbol,e.decimals]:["","",18]:["","",18]}(e)}))}),[ae.INPUT,ae.OUTPUT]),Me=Object(q.a)(Le,2),Pe=Me[0],He=Me[1];we(He[0],He[1]),c=He[0],ce=Pe[0],d=He[2],u=He[1],null!=Te&&(fe=Te.toExact()),Object(O.i)("stake_yield_type",(function(e){var t=Object(O.a)("stake_yield_msg");null!=t&&(" units"==(e=e.toLowerCase())?(ue="1",t.innerHTML="Rewards would be accumulated based on  units"):(ue="0",t.innerHTML="Rewards would be accumulated based on percentage"),Ge(_e,e,pe))})),Object(O.i)("stake_yield_duration",(function(e){null!=Object(O.a)("stake_yield_duration_msg")&&(e=e.toLowerCase(),_e=e,Ge(e,ue,pe))}));var Ge=function(e,t,a){var n,o,l=Object(O.a)("stake_yield_duration_msg"),i=Object(O.a)("_yield_msg");"1"==ue?(n=" units",o=" units * "):(n="percentage",o="% of the"),null!=l&&null!=i&&("daily"==e?(l.innerHTML="Rewards would be accumulated based on "+n+" per day",i.innerHTML="Reward = "+a+o+" staked token per day"):"weekly"==e?(l.innerHTML="Rewards would be accumulated based on "+n+" per week",i.innerHTML="Reward = "+a+o+" staked token per week"):"monthly"==e?(l.innerHTML="Rewards would be accumulated based on "+n+" per month",i.innerHTML="Reward = "+a+o+" staked token per month"):"yearly"==e&&(l.innerHTML="Rewards would be accumulated based on "+n+" per year",i.innerHTML="Reward = "+a+o+" staked token per year"))},Re=function(){Oe&&(ce=""),N(!Oe)};return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{id:"stake_create",className:"stake_overlay",style:{display:"none"}},g.a.createElement("div",{className:"stake_modal topGravity"},g.a.createElement("div",{onClick:function(){var e=Object(O.a)("stake_create");null!=e&&(e.style.display="none",ge.length>0&&ve&&(ve=!1,ge.forEach((function(e){e()})),ve=!1))},className:"stake_cancel"},g.a.createElement("span",{className:"fas fa-times"})),g.a.createElement("span",{className:"",style:{margin:"15px",fontSize:"18px"}},"Create Stake Pool"),g.a.createElement("div",{className:"stake_modal_display"},g.a.createElement("section",{className:"stake_option_section",style:{border:"0px"}},Oe?g.a.createElement($.f,{onClick:Re},"use seperate token for stake and reward"):g.a.createElement($.f,{onClick:Re},"use one token for stake and reward")),g.a.createElement("section",{className:"stake_option_section"},Oe?g.a.createElement("span",{className:"stake_token_font span",style:{color:"yellow"}},"Using same token as rewards"):g.a.createElement("div",null,g.a.createElement("span",{className:"stake_token_font span"},"Select stake token"),g.a.createElement(J.a,{label:"",value:Se[K.a.INPUT],showMaxButton:!0,hideInput:!0,onUserInput:function(){},onCurrencySelect:Ne,currency:ae[K.a.INPUT],otherCurrency:ae[K.a.OUTPUT],id:"swap-currency-input"}))),g.a.createElement("section",{className:"stake_option_section"},g.a.createElement("span",{className:"stake_token_font span"},"Select Reward token and add liquidity"),g.a.createElement("div",null,g.a.createElement(J.a,{label:"",value:Se[K.a.OUTPUT],showMaxButton:!0,onUserInput:Ue,onMax:Ce,onCurrencySelect:xe,currency:ae[K.a.OUTPUT],otherCurrency:ae[K.a.OUTPUT],id:"stake-input-token"}))),g.a.createElement("section",{className:"stake_option_section"},g.a.createElement("span",{className:"stake_token_font span"},"Yield type"),g.a.createElement("div",null,g.a.createElement("div",{id:"stake_yield_type",className:"stake_toggle",style:{marginLeft:"10px"}},g.a.createElement("div",{className:"stake_toggle_select"}," units"),g.a.createElement("div",null,"Percentage"))),g.a.createElement("span",{id:"stake_yield_msg",className:"msg"},"Rewards would be accumulated based on  units")),g.a.createElement("section",{className:"stake_option_section"},g.a.createElement("span",{className:"stake_token_font span"},"Yield duration"),g.a.createElement("div",null,g.a.createElement("div",{id:"stake_yield_duration",className:"stake_toggle",style:{marginLeft:"10px"}},g.a.createElement("div",{className:"stake_toggle_select"},"Daily"),g.a.createElement("div",null,"Weekly"),g.a.createElement("div",null,"Monthly"),g.a.createElement("div",null,"Yearly"))),g.a.createElement("span",{id:"stake_yield_duration_msg",className:"msg"},"Reward would be accumulated based on uints per day")),g.a.createElement("section",{className:"stake_option_section"},g.a.createElement("span",{className:"stake_token_font span"},"Yield value"),g.a.createElement("div",null,g.a.createElement("input",{onInput:function(){var e=Object(O.a)("stake_yield_input");if(null!=e){var t=e.value;pe=t,Ge(_e,ue,t)}},id:"stake_yield_input",type:"number",className:"input",placeholder:"0.0"})),g.a.createElement("span",{id:"_yield_msg",className:"msg"})),g.a.createElement("section",{className:"stake_option_section"},g.a.createElement("span",{className:"stake_token_font span"},"Duration in days"),g.a.createElement("div",null,g.a.createElement("input",{onInput:function(){var e=Object(O.a)("stake_end_input");if(null!=e){var t=e.value;me=t}},id:"stake_end_input",type:"number",className:"input",placeholder:"set duration"}))),g.a.createElement("section",{className:"stake_option_section",style:{border:"0px"}},r?g.a.createElement($.f,{onClick:function(){if("false"==ke){var e=Object(O.a)("stake_button"),t=function(){var e=se.a.chains[m];if(null!=e){var t=e.stake,a=_.getSigner();return new te.ethers.Contract(c,le.a.token,a).approve(t,ne.a.utils.toWei("9000000000000000000")).then((function(e){return e}))}return!1}();try{clearTimeout(k)}catch(De){}0!=t&&null!=e&&(Object(re.f)(!0),Object(re.d)("Transacting"),Object(re.e)(""),e.disabled=!0,t.then((function(t){t.hash&&t.wait().then((function(t){e.disabled=!1,k=setTimeout((function(){Object(re.f)(!1)}),3e3),1==t.status?(e.innerHTML="Create",Object(re.d)("Permission granted"),Object(re.e)("good"),ke="true"):(Object(re.e)("error"),Object(re.d)("Transaction failed"))})).catch((function(e){Object(re.e)("error"),Object(re.d)(Object(O.j)(e)),k=setTimeout((function(){Object(re.f)(!1)}),4e3)}))})).catch((function(t){Object(re.e)("error"),Object(re.d)(Object(O.j)(t)),k=setTimeout((function(){Object(re.f)(!1)}),4e3),e.disabled=!1})))}else if("true"==ke){var a=function(){var e;return de=he("stake-input-token"),e=c!=ye?Math.floor(pe*Math.pow(10,d)):Math.floor(1e18*pe),Oe&&(ce=c),null==ce||void 0==ce||""==ce?[!1,"Choose a token to use for staking."]:null==c||void 0==c?[!1,"choose the reward token to be earned."]:1*de==0?[!1,"Indicate the liquidity amount."]:1*de<0?[!1,"Liquidity amount cannot be negative"]:1*me<0?[!1,"Duration value cannot be negative"]:1*pe==0?[!1,"Indicate the yield value."]:1*pe<0?[!1,"Yield value cannot be negative."]:1*e==0?[!1,"Yield value is too small."]:me<1?[!1,"Specify the duration"]:1*de<1*pe?[!1,"The yield amount cannot exceed the liquidity."]:1*fe<1*de?[!1,"Insufficient balance to provide for the desired liquidity."]:1*fe==0?[!1,"Insufficient balance"]:[!0]}(),n=Object(O.a)("stake_button");if(a[0]&&null!=n){var o,l,i;c!=ye?(l=Object(O.k)(de,d),i=Object(O.k)(pe,d)):(l=Object(O.k)(de,18),i=Object(O.k)(pe,18)),function(e,t){Object(O.a)("stake_prompt").style.display="flex",Object(O.a)("stake_prompt_msg").innerHTML=e,Object(O.a)("stake_prompt_yes").onclick=function(){Object(O.a)("stake_prompt").style.display="none",t(!0)},Object(O.a)("stake_prompt_no").onclick=function(){Object(O.a)("stake_prompt").style.display="none",t(!1)}}("You would be charged <span style='color:yellow'>"+be/1e19+" "+(null===(o=Object(O.g)(f))||void 0===o?void 0:o.symbol)+"</span> for this operation.",(function(e){if(e){var t=function(e,t,a){var n=se.a.chains[m];if(null!=n){var o=n.stake,l=_.getSigner(),i=new te.ethers.Contract(o,le.a.stake,l),s=ne.a.utils.toBN(e+""),r=ne.a.utils.toBN(be);return s=s.add(r),Oe&&(ce=c),(c!=ye?i.createPool(c,ce,ne.a.utils.toWei(e+"","wei"),ne.a.utils.toWei(t+"","wei"),ue,a,me,{value:be.toString()}):i.createPool(c,ce,ne.a.utils.toWei(e+"","wei"),ne.a.utils.toWei(t+"","wei"),ue,a,me,{value:s.toString()})).then((function(e){return e}))}return!1}(l,i,"daily"==_e?"1":"weekly"==_e?"2":"monthly"==_e?"3":"4");try{clearTimeout(k)}catch(De){}0!=t&&(Object(re.f)(!0),Object(re.d)("Creating pool"),Object(re.e)(""),n.disabled=!0,t.then((function(e){e.hash&&e.wait().then((function(e){n.disabled=!1,k=setTimeout((function(){Object(re.f)(!1)}),3e3),1==e.status?(n.innerHTML="Create",Object(re.d)("Staking pool Created"),Object(re.e)("good"),ve=!0):(Object(re.e)("error"),Object(re.d)("Transaction failed"))})).catch((function(e){Object(re.e)("error"),Object(re.d)(Object(O.j)(e)),k=setTimeout((function(){Object(re.f)(!1)}),4e3)}))})).catch((function(e){Object(re.e)("error"),Object(re.d)(Object(O.j)(e)),k=setTimeout((function(){Object(re.f)(!1)}),4e3),n.disabled=!1})))}}))}else{Object(re.f)(!0),Object(re.e)("error"),Object(re.d)(a[1]);try{clearTimeout(k)}catch(De){}k=setTimeout((function(){Object(re.f)(!1)}),3e3)}}},id:"stake_button"},"..."):g.a.createElement($.f,{onClick:y},"Connect Wallet"))))),g.a.createElement(re.a,null),g.a.createElement("div",{id:"stake_prompt",className:"stake_create_back"},g.a.createElement("div",{className:"stake_create_back_div"},g.a.createElement("div",{id:"stake_prompt_msg",className:"stake_create_back_text"},"You would be charged 0.5BNB for this operation."),g.a.createElement("div",null,g.a.createElement("button",{id:"stake_prompt_yes",className:"stake_confirm"},"Confirm"),g.a.createElement("button",{id:"stake_prompt_no",className:"stake_other_cancel"},"Cancel")))))},je={},Ie=0,Ee=null,Se=null,Ne={live:!0,finished:!1,staked:!1,all:!0},xe=function(e){try{var t=document.getElementById("stake_head"),a=document.getElementById("stake_view");if(null!=t&&null!=a){var n=a.children;if(null!=n){for(var o=0;o<t.children.length;o++)t.children[o].className="",n[o].style.display="none";t.children[e].className="stake_head_selected",n[e].style.display="",Ie=e}}}catch(l){}},Ue=function e(){Se=null,Ee=null;var t=function(){var e=se.a.chains[f];if(null!=e){var t=e.stake;return new te.ethers.Contract(t,le.a.stake,y).getPoolWithUser(v).then((function(e){return e}))}return!1}();0!=t&&t.then((function(e){var t=Object(O.a)("stake_search_input");null!=t&&(t.value="");for(var a=[],n=[],o=0;o<e.length;o++)e[o]._pool.owner==v?n.push(e[o]):a.push(e[o]);Se=a,Ee=n,function(e,t,a){var n=Object(O.a)("stake_my_pool_results");if(null!=n){if(n.innerHTML="<div id='stake_pool_empty'></div>",r=e,e.length>0){B(a,!1);for(var o=0;o<e.length;o++)n.innerHTML+=F(e[o]);G(t,"")}else n.innerHTML=Y();n.style.display="flex",Object(O.a)("stake_my_pool_info").style.display="none"}}(n,Ne,Le()),function(e,t,a){var n=Object(O.a)("stake_other_pool_results");if(null!=n){if(n.innerHTML="<div id='stake_other_pool_empty'></div>",l=e,e.length>0){U(a,!1);for(var o=0;o<e.length;o++)n.innerHTML+=C(e[o]);N(t,"")}else n.innerHTML=L();n.style.display="flex",Object(O.a)("stake_other_pool_info").style.display="none"}}(a,Ne,Le())})).catch((function(t){setTimeout((function(){e()}),2e3)}))},Ce=function(){var e=document.getElementById("stake_create");null!=e&&(e.style.display=""),Object(O.h)("stake_yield_type",(function(){if(de="",ue="1",_e="daily",pe="0",me=0,null!=c){var e=c;c="",we(e,u)}}))},Le=function(){var e,t,a={sortType:"",sortBy:""};return(null===(e=Object(O.a)("stake_sort_type"))||void 0===e?void 0:e.className).indexOf("down")>-1?a.sortType="down":a.sortType="up",a.sortBy=null===(t=Object(O.a)("stake_sort_by"))||void 0===t?void 0:t.value,a};t.default=function(){var e=Object(I.a)(),t=e.account,a=e.chainId,n=e.library;y=n;var o=Object(E.a)();Object(O.i)("stake_toggle_filter",(function(e){var t;"Live"==e?(Ne.live=!0,Ne.finished=!1):(Ne.live=!1,Ne.finished=!0);var a=null===(t=Object(O.a)("stake_search_input"))||void 0===t?void 0:t.value;null==Se&&null==Ee||(G(Ne,a),N(Ne,a))})),Object(O.i)("stake_toggle_filter_1",(function(e){var t;"Staked"==e?(Ne.staked=!0,Ne.all=!1):(Ne.staked=!1,Ne.all=!0);var a=null===(t=Object(O.a)("stake_search_input"))||void 0===t?void 0:t.value;null==Se&&null==Ee||(G(Ne,a),N(Ne,a))}));Object(b.useEffect)((function(){je={}}));var l;return null!=(l=function(){Object(O.h)("stake_view",(function(){null!=t&&null!=a&&Ue()}))})&&ge.push(l),g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"bg-image"}),g.a.createElement("div",{className:"dxstake"},g.a.createElement("div",{className:"stakeContainer"},g.a.createElement("div",{className:"topStakeBar"},g.a.createElement("span",{className:"stake_bold",style:{marginRight:"auto",fontSize:"20px"}},"Staking Pool"),g.a.createElement("button",{onClick:Ce,className:"stake_button"},"Create Stake Pool"),g.a.createElement("input",{onInput:function(){var e,t=null===(e=Object(O.a)("stake_search_input"))||void 0===e?void 0:e.value;null==Se&&null==Ee||(G(Ne,t),N(Ne,t))},id:"stake_search_input",placeholder:"Search by token, id",className:"stake_input"})),g.a.createElement("div",{className:"stake_head",id:"stake_head"},g.a.createElement("button",{onClick:function(){return xe(0)},style:{borderRight:"1px solid white"}},"Pool"),g.a.createElement("button",{onClick:function(){return xe(1)},className:""},"My Pool")),g.a.createElement("div",{className:"leftGravity centre stake_middle"},g.a.createElement("span",{className:"stake_token_font"},"Filter"),g.a.createElement("div",{id:"stake_toggle_filter",className:"stake_toggle"},g.a.createElement("div",{className:"stake_toggle_select"},"Live"),g.a.createElement("div",null,"Finished")),g.a.createElement("div",{className:"centre stake_sort",style:{marginLeft:"auto"}},g.a.createElement("div",{onClick:function(){var e=Object(O.a)("stake_sort_type");null!=e&&(e.className.indexOf("down")>-1?e.className="fas fa-arrow-up":e.className.indexOf("up")>-1&&(e.className="fas fa-arrow-down"),null==Se&&null==Ee||(B(Le(),!0),U(Le(),!0)))},className:"center"},g.a.createElement("span",{id:"stake_sort_type",className:"fas fa-arrow-down"})),g.a.createElement("select",{onInput:function(){null==Se&&null==Ee||(B(Le(),!0),U(Le(),!0))},id:"stake_sort_by"},g.a.createElement("option",{value:"mine"},"Your stake"),g.a.createElement("option",{value:"earned"},"Reward earned"),g.a.createElement("option",{value:"total"},"Total staked"),g.a.createElement("option",{value:"create",selected:!0},"Created"))),g.a.createElement("div",{id:"stake_toggle_filter_1",className:"stake_toggle",style:{marginLeft:"15px"}},g.a.createElement("div",null,"Staked"),g.a.createElement("div",{className:"stake_toggle_select"},"All"))),g.a.createElement("div",{className:"stake_view",id:"stake_view"},g.a.createElement(H,null),g.a.createElement(z,null)))),g.a.createElement(re.a,null),g.a.createElement(Te,null),void Object(O.h)("stake_view",(function(){xe(Ie),null!=t&&null!=a&&"{}"!=JSON.stringify(o)&&(v==t&&f==a&&JSON.stringify(je)==JSON.stringify(o)||(je=o,v=t,f=a,Ue(),Ne.live?Object(O.c)("stake_toggle_filter",0):Object(O.c)("stake_toggle_filter",1),Ne.staked?Object(O.c)("stake_toggle_filter_1",0):Object(O.c)("stake_toggle_filter_1",1)))})))}}}]);
//# sourceMappingURL=37.f1c4e094.chunk.js.map