{"version":3,"sources":["pages/Admin/airdrops.tsx","functions/admin.js"],"names":["styled","table","props","width","height","div","tr","background","th","fontWeight","td","textAlign","Airdrops","useState","airdrops","state","setState","perPage","size","setSize","current","setCurrent","loading","setLoading","token","isAuthenticated","fatchAirdrops","a","getAirdrops","then","data","console","log","hasAirdrops","length","useEffect","PerPageChange","value","newPerPage","Math","ceil","PaginationChange","page","pageSize","PrevNextArrow","type","originalElement","className","showTotal","total","range","onChange","showSizeChanger","itemRender","onShowSizeChange","slice","getData","map","index","key","_id","name","category","src","logo","style","borderRadius","alt","url","tvl","chains","owner","getUsers","fetch","process","method","headers","Accept","Authorization","response","json","catch","err"],"mappings":"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","file":"static/js/21.8664f991.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport Pagination from 'rc-pagination'\nimport './users.css'\nimport { isAuthenticated } from './../../helper/auth'\nimport { getAirdrops } from './../../functions/admin'\nimport Loader from 'src/components/Loader'\n\ninterface TableProps {\n\twidth: string\n\theight: string\n}\n\nconst Table = styled.table<TableProps>`\n\twidth: ${(props) => props.width};\n\theight: ${(props) => props.height};\n\tborder-collapse: collapse;\n`\n\nconst Bottom = styled.div`\n\talign-items: center;\n\tborder: none;\n\tpadding: 10px;\n\toutline: none;\n\tdisplay: flex;\n\talign-items: center;\n\ttext-transform: uppercase;\n\tfont-size: 1rem;\n\tcolor: #fff;\n\tbackground-color: #7eb946;\n\tborder-radius: 4px;\n`\nconst Bottom2 = styled.div`\n\talign-items: center;\n\tborder: none;\n\tpadding: 10px;\n\toutline: none;\n\tdisplay: flex;\n\talign-items: center;\n\ttext-transform: uppercase;\n\tfont-size: 1rem;\n\tcolor: #fff;\n\tbackground-color: red;\n\tborder-radius: 4px;\n`\n\ninterface TableRowProps {\n\tbackground: string\n}\n\nconst TableRow = styled.tr<TableRowProps>`\n\tbackground-color: ${(props) => props.background};\n`\n\ninterface TableHeaderProps {\n\tfontWeight: string\n}\n\nconst TableHeader = styled.th<TableHeaderProps>`\n\tfont-weight: ${(props) => props.fontWeight};\n\tpadding: 10px;\n\tborder-bottom: 1px solid black;\n`\n\ninterface TableDataProps {\n\ttextAlign: string\n}\n\nconst TableData = styled.td<TableDataProps>`\n\ttext-align: ${(props) => props.textAlign};\n\tpadding: 10px;\n\tborder-bottom: 1px solid black;\n`\n\nconst Airdrops: React.FC = () => {\n\tconst [state, setState] = useState({\n\t\tairdrops: []\n\t} as any)\n\tconst [perPage, setPerPage] = useState(50)\n\tconst [size, setSize] = useState(perPage)\n\tconst [current, setCurrent] = useState(1)\n\tconst [key, setKey] = useState(1)\n\tconst [loading, setLoading] = useState(false)\n\tconst { token } = isAuthenticated()\n\n\tconst fatchAirdrops = async () => {\n\t\tsetLoading(true)\n\t\tgetAirdrops(token).then((data) => {\n\t\t\tconsole.log(data)\n\t\t\tif (data) {\n\t\t\t\tsetState({ ...state, airdrops: [...data.airdrops] })\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t})\n\t}\n\tconst { airdrops } = state\n\tconst hasAirdrops = airdrops.length > 0\n\n\tuseEffect(() => {\n\t\tfatchAirdrops()\n\t}, [])\n\n\tconst PerPageChange = (value) => {\n\t\tsetSize(value)\n\t\tconst newPerPage = Math.ceil(airdrops.length / value)\n\t\tif (current > newPerPage) {\n\t\t\tsetCurrent(newPerPage)\n\t\t}\n\t}\n\n\tconst getData = (current, pageSize) => {\n\t\t// Normally you should get the data from the server\n\t\treturn airdrops.slice((current - 1) * pageSize, current * pageSize)\n\t}\n\n\tconst PaginationChange = (page, pageSize) => {\n\t\tsetCurrent(page)\n\t\tsetSize(pageSize)\n\t}\n\n\tconst PrevNextArrow = (current, type, originalElement) => {\n\t\tif (type === 'prev') {\n\t\t\treturn (\n\t\t\t\t<button>\n\t\t\t\t\t<i className=\"fa fa-angle-double-left\"></i>\n\t\t\t\t</button>\n\t\t\t)\n\t\t}\n\t\tif (type === 'next') {\n\t\t\treturn (\n\t\t\t\t<button>\n\t\t\t\t\t<i className=\"fa fa-angle-double-right\"></i>\n\t\t\t\t</button>\n\t\t\t)\n\t\t}\n\t\treturn originalElement\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<>\n\t\t\t\t\t<h2>Loading airdrops...Please wait</h2>\n\t\t\t\t\t<Loader />\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t{hasAirdrops ? (\n\t\t\t\t\t\t<div className=\"container-fluid airdrops airdrops mt-5 mb-5\">\n\t\t\t\t\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t\t\t\t\t<div className=\"col-md-10\">\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body p-0\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-filter-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"pagination-data\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowTotal={(total, range) => `Showing ${range[0]}-${range[1]} of ${total}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={PaginationChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={airdrops.length}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\t\t\t\t\t\t\t\tpageSize={size}\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowSizeChanger={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\titemRender={PrevNextArrow}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonShowSizeChange={PerPageChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t\t\t\t\t\t\t\t<table className=\"table table-text-small mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<thead className=\"thead-primary table-sorting\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Catrgeory</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Logo</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>URL</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>TVL</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Chains</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Owner</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <th>Delete</th> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{getData(current, size).map((data, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{console.log(data)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data._id}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data.name}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data.category}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={data.logo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '50px', height: '50px', borderRadius: '50%' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Logo\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data.url}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data.tvl}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data.chains[0]}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{data.owner}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Bottom2>Delete</Bottom2>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-filter-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"pagination-data\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowTotal={(total, range) => `Showing ${range[0]}-${range[1]} of ${total}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={PaginationChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={airdrops.length}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\t\t\t\t\t\t\t\tpageSize={size}\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowSizeChanger={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\titemRender={PrevNextArrow}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonShowSizeChange={PerPageChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<h4>No Airdrop</h4>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default Airdrops\n","export const getUsers = (token) => {\n\treturn fetch(`${process.env.REACT_APP_BACKEND_API}/admin/users`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then((response) => {\n\t\t\treturn response.json()\n\t\t})\n\t\t.catch((err) => console.log(err))\n}\n\nexport const getAirdrops = (token) => {\n\treturn fetch(`${process.env.REACT_APP_BACKEND_API}/admin/airdrops`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then((response) => {\n\t\t\treturn response.json()\n\t\t})\n\t\t.catch((err) => console.log(err))\n}\n"],"sourceRoot":""}