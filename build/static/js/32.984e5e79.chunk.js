(this["webpackJsonpdxswap-dapp"]=this["webpackJsonpdxswap-dapp"]||[]).push([[32],{1246:function(e,t,n){"use strict";n.r(t);var r,a,o,c,l,i,u,m,s,h=n(2),p=n.n(h),d=n(17),g=n(13),f=n(16),E=n(18),b=n(5),y=n(0),v=n.n(y),j=n(7),O=n(305),T=n(665),C=n(106),_=n(72),x=j.default.div(r||(r=Object(b.a)(["\n\twidth: 100%;\n\toverflow: visible;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin: auto;\n"]))),A=j.default.form(a||(a=Object(b.a)(["\n\twidth: calc(100% - 40px);\n\tmax-width: 400px;\n\tbackground-color: ",";\n\tborder: 1px solid ",";\n\tborder-radius: 8px;\n\tpadding: 1rem;\n"])),(function(e){return e.theme.bg1}),(function(e){return e.theme.bg2})),S=j.default.h2(o||(o=Object(b.a)(["\n\tfont-size: 1.3rem;\n\ttext-align: center;\n\tmargin-bottom: 1rem;\n"]))),w=j.default.div(c||(c=Object(b.a)(["\n\tmargin-bottom: 1.5rem;\n"]))),z=j.default.label(l||(l=Object(b.a)(["\n\tfont-size: 1rem;\n"]))),k=j.default.input(i||(i=Object(b.a)(["\n\tbackground: none;\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 0.5rem;\n\tfont-size: 1rem;\n\tborder: 1px solid #eaeaea;\n\tcolor: #ffffff;\n\tborder-radius: 5px;\n\tmargin-bottom: 0.5rem;\n\t&:focus {\n\t\toutline: none;\n\t\tcolor: #ffffff;\n\t\tborder-color: #eaeaea;\n\t\tborder-width: 2px;\n\t}\n\t",";\n"])),(function(e){return e.error&&"\n    border-color: #f44336;\n  "})),F=j.default.button(u||(u=Object(b.a)(["\n\twidth: 100%;\n\tcursor: pointer;\n\ttransition: all 0.5s ease;\n\tbackground-color: #7eb946;\n\tcolor: #212121;\n\tfont-size: 1rem;\n\tpadding: 0.5rem 1rem;\n\tborder: none;\n\tborder-radius: 5px;\n\t&:hover {\n\t\tbackground-color: #212121;\n\t\tcolor: #eaeaea;\n\t}\n"]))),B=j.default.p(m||(m=Object(b.a)(["\n\tfont-size: 1rem;\n\tcolor: #f44336;\n"]))),P=j.default.p(s||(s=Object(b.a)(["\n\tfont-size: 1rem;\n\tcolor: #4caf50;\n"])));t.default=function(e){var t=e.history,n=Object(O.b)().token,r=Object(y.useState)({name:"",user:"",change_1d:"",change_1m:"",change_7d:"",logo:"",url:"",mcaptvl:"",symbol:"",tvl:"",chains:"",category:"",chainTvls:"",extraTvl:""}),a=Object(E.a)(r,2),o=a[0],c=a[1],l=Object(y.useState)({nameError:"",urlError:"",logoError:"",tvlError:"",chainsError:"",categoryError:""}),i=Object(E.a)(l,2),u=i[0],m=i[1],s=Object(y.useState)(""),h=Object(E.a)(s,2),b=h[0],j=h[1],J=Object(y.useState)(!1),N=Object(E.a)(J,2),U=N[0],L=N[1],D=Object(y.useState)(""),V=Object(E.a)(D,2),R=V[0],G=V[1],I=Object(y.useState)(""),M=Object(E.a)(I,2),q=M[0],H=M[1],K=Object(y.useState)(null),Q=Object(E.a)(K,2),W=Q[0],X=Q[1];Object(y.useEffect)((function(){Object(T.d)(n).then((function(e){if(console.log("data: ",e),"Invalid Authentification"===e.message)return alert("Session expired,  Please login"),void Object(O.c)((function(){t.push("/"),setTimeout((function(){window.location.reload()}),1e3)}));X(e.user)}))}),[]);var Y=function(e){var t=e.target,n=t.name,r=t.value;c(Object(f.a)(Object(f.a)({},o),{},Object(g.a)({},n,r)))},Z=function(){var e="",t="",n="",r="",a="",c="";return o.name||(e="Name cannot be empty"),o.tvl||(r="Total value (tvl) cannot be empty"),o.logo||(n="Logo url cannot be empty"),o.chains||(a="Chains cannot be"),o.category||(c="Category cannot be"),o.url||(t="URL cannot be"),!(e||n||r||a||c||t)||(m({nameError:"",logoError:"",urlError:"",tvlError:"",chainsError:"",categoryError:""}),!1)};Object(y.useEffect)((function(){Object(T.c)(n).then((function(e){e.error?console.log(e.error,e):(console.log(e),e.airdrops.map((function(e){H(e._id),c({name:e.name,change_1d:e.change_1d,url:e.url,change_1m:e.change_1m,change_7d:e.change_7d,logo:e.logo,mcaptvl:e.mcaptvl,symbol:e.symbol,tvl:e.tvl,chains:e.chains,category:e.category,chainTvls:e.chainTvls,extraTvl:e.extraTvl,user:e.token})})))}))}),[]);var $=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),L(!0);try{Z()&&(c({name:"",change_1d:"",change_1m:"",change_7d:"",url:"",logo:"",mcaptvl:"",symbol:"",tvl:"",chains:"",category:"",chainTvls:"",extraTvl:"",user:""}),m({nameError:"",urlError:"",logoError:"",tvlError:"",chainsError:"",categoryError:""}),Object(T.g)(q,n,{name:o.name,change_1d:o.change_1d,change_1m:o.change_1m,change_7d:o.change_7d,logo:o.logo,url:o.url,mcaptvl:o.mcaptvl,symbol:o.symbol,tvl:o.tvl,chains:o.chains,category:o.category,chainTvls:o.chainTvls,extraTvl:o.extraTvl,user:n}).then((function(e){if(1!=e.success)return G(e.message),j(""),void L(!1);L(!1),j(e.message),G("")})))}catch(R){console.log(R),G("Error updating your airdrop. Please try again later"),j(""),L(!1)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return v.a.createElement(v.a.Fragment,null,W&&!W.verified?v.a.createElement(_.a,{to:"/verify-email"}):null,v.a.createElement("h5",null,"Edit, ",o.name),v.a.createElement(w,null,v.a.createElement(F,{type:"submit",onClick:function(e){e.preventDefault(),t.push("/my-airdrops")}},"View your Airdrops")),v.a.createElement(x,null,v.a.createElement(A,{onSubmit:$},v.a.createElement(S,null,"Submit Airdrop Details"),b?v.a.createElement(P,null,b):null,R?v.a.createElement(B,null,R):null,v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"name"},"Name"),v.a.createElement(k,{type:"text",name:"name",value:o.name,onChange:Y,error:u.nameError}),u.nameError?v.a.createElement(B,null,u.nameError):null),v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"name"},"URL"),v.a.createElement(k,{type:"text",name:"url",value:o.url,onChange:Y,error:u.urlError}),u.urlError?v.a.createElement(B,null,u.urlError):null),v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"tvl"},"Total Value(tvl)"),v.a.createElement(k,{type:"number",name:"tvl",value:o.tvl,onChange:Y,error:u.tvlError}),u.tvlError?v.a.createElement(B,null,u.tvlError):null),v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"logo"},"Logo URL"),v.a.createElement(k,{type:"text",name:"logo",value:o.logo,onChange:Y,error:u.logoError}),u.logoError?v.a.createElement(B,null,u.logoError):null),v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"chains"},"Chains"),v.a.createElement(k,{type:"text",name:"chains",value:o.chains,onChange:Y,error:u.chainsError}),u.chainsError?v.a.createElement(B,null,u.chainsError):null),v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"category"},"Category"),v.a.createElement(k,{type:"text",name:"category",value:o.category,onChange:Y,error:u.categoryError}),u.categoryError?v.a.createElement(B,null,u.categoryError):null),v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"change_1d"},"Change in 1 day"),v.a.createElement(k,{type:"number",name:"change_1d",value:o.change_1d,onChange:Y,error:"",placeholder:"Optional"})),v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"change_1d"},"Change in 7 days"),v.a.createElement(k,{type:"number",name:"change_7d",value:o.change_7d,onChange:Y,error:"",placeholder:"Optional"})),v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"change_1d"},"Change in 1 month"),v.a.createElement(k,{type:"number",name:"change_1m",value:o.change_1m,onChange:Y,error:"",placeholder:"Optional"})),v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"symbol"},"Symbol"),v.a.createElement(k,{type:"text",name:"symbol",value:o.symbol,onChange:Y,error:"",placeholder:"Optional"})),v.a.createElement(w,null,v.a.createElement(z,{htmlFor:"mcaptvl"},"Market Cap Total Value(mcaptvl)"),v.a.createElement(k,{type:"number",name:"mcaptvl",value:o.mcaptvl,onChange:Y,error:"",placeholder:"Optional"})),v.a.createElement(w,null,U?v.a.createElement(F,{disabled:!0,type:"submit"},"Updating",v.a.createElement(C.a,null)):v.a.createElement(F,{type:"submit"},"Update")))))}},665:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return m}));var r=function(e,t){return fetch("".concat("http://localhost:5000","/sendVerification"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},a=function(e,t){return fetch("".concat("http://localhost:5000","/activate"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},o=function(e,t){return fetch("".concat("http://localhost:5000","/submit-airdrop"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},c=function(e,t,n){return fetch("".concat("http://localhost:5000","/update/airdrop/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return fetch("".concat("http://localhost:5000","/delete/airdrop/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},i=function(e){return fetch("".concat("http://localhost:5000","/my-airdrops"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return fetch("".concat("http://localhost:5000","/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},m=function(e,t){return fetch("".concat("http://localhost:5000","/updatePassword"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}}}]);
//# sourceMappingURL=32.984e5e79.chunk.js.map