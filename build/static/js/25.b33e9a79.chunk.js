(this["webpackJsonpdxswap-dapp"]=this["webpackJsonpdxswap-dapp"]||[]).push([[25],{1260:function(t,r,e){"use strict";e.r(r);var n,o,a,c,s,i,u,l,d,p=e(2),f=e.n(p),m=e(17),h=e(13),b=e(16),w=e(18),E=e(5),j=e(0),g=e.n(j),P=e(106),O=e(7),y=e(720),x=e(72),v=e(305),S=e(665),T=O.default.div(n||(n=Object(E.a)(["\n\twidth: 100%;\n\toverflow: visible;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin: auto;\n"]))),A=O.default.form(o||(o=Object(E.a)(["\n\twidth: calc(100% - 40px);\n\tmax-width: 400px;\n\tbackground-color: ",";\n\tborder: 1px solid ",";\n\tborder-radius: 8px;\n\tpadding: 1rem;\n"])),(function(t){return t.theme.bg1}),(function(t){return t.theme.bg2})),k=O.default.h2(a||(a=Object(E.a)(["\n\tfont-size: 1.3rem;\n\ttext-align: center;\n\tmargin-bottom: 1rem;\n"]))),C=O.default.div(c||(c=Object(E.a)(["\n\tmargin-bottom: 1.5rem;\n"]))),z=O.default.label(s||(s=Object(E.a)(["\n\tfont-size: 1rem;\n"]))),J=O.default.input(i||(i=Object(E.a)(["\n\tbackground: none;\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 0.5rem;\n\tfont-size: 1rem;\n\tborder: 1px solid #eaeaea;\n\tcolor: #ffffff;\n\tborder-radius: 5px;\n\tmargin-bottom: 0.5rem;\n\t&:focus {\n\t\toutline: none;\n\t\tcolor: #ffffff;\n\t\tborder-color: #eaeaea;\n\t\tborder-width: 2px;\n\t}\n\t",";\n"])),(function(t){return t.error&&"\n    border-color: #f44336;\n  "})),B=O.default.button(u||(u=Object(E.a)(["\n\twidth: 100%;\n\tcursor: pointer;\n\ttransition: all 0.5s ease;\n\tbackground-color: #7eb946;\n\tcolor: #212121;\n\tfont-size: 1rem;\n\tpadding: 0.5rem 1rem;\n\tborder: none;\n\tborder-radius: 5px;\n\t&:hover {\n\t\tbackground-color: #212121;\n\t\tcolor: #eaeaea;\n\t}\n"]))),N=O.default.p(l||(l=Object(E.a)(["\n\tfont-size: 1rem;\n\tcolor: #f44336;\n"]))),F=O.default.p(d||(d=Object(E.a)(["\n\tfont-size: 1rem;\n\tcolor: #4caf50;\n"])));r.default=function(t){var r=t.history,e=Object(j.useState)({email:"",password:"",confirmPassword:""}),n=Object(w.a)(e,2),o=n[0],a=n[1],c=Object(j.useState)({emailError:"",passwordError:"",confirmPasswordError:""}),s=Object(w.a)(c,2),i=s[0],u=s[1],l=Object(j.useState)(""),d=Object(w.a)(l,2),p=d[0],E=d[1],O=Object(j.useState)(!1),U=Object(w.a)(O,2),R=U[0],D=U[1],G=Object(j.useState)(""),I=Object(w.a)(G,2),L=I[0],V=I[1],W=Object(j.useState)(null),Z=Object(w.a)(W,2),$=Z[0],q=Z[1],H=Object(v.b)().token;Object(j.useEffect)((function(){Object(S.d)(H).then((function(t){if(console.log("data: ",t),"Invalid Authentification"===t.message)return alert("Session expired,  Please login"),void Object(v.c)((function(){r.push("/"),setTimeout((function(){window.location.reload()}),1e3)}));q(t.user)}))}),[]);var K=function(t){var r=t.target,e=r.name,n=r.value;a(Object(b.a)(Object(b.a)({},o),{},Object(h.a)({},e,n)))},M=function(){var t="";return o.email||(t="Email cannot be empty"),!t||(u({emailError:t,passwordError:"",confirmPasswordError:""}),!1)},Q=function(){var t=Object(m.a)(f.a.mark((function t(r){var e,n,c,s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),e=M(),D(!0),e&&(a({email:"",password:"",confirmPassword:""}),u({emailError:"",passwordError:"",confirmPasswordError:""})),!$){t.next=45;break}if(D(!0),n=new RegExp("^(?=.*[A-Z])"),c=new RegExp("^(?=.*[a-z])"),s=new RegExp("^(?=.*[0-9])"),i=/^(.*\W).*$/,o.confirmPassword){t.next=15;break}return u({emailError:"",passwordError:"",confirmPasswordError:"Provide your current password."}),E(""),D(!1),t.abrupt("return");case 15:if(!(o.password.length<8)){t.next=20;break}return u({emailError:"",passwordError:"Password must be atleast 8 characters.",confirmPasswordError:""}),E(""),D(!1),t.abrupt("return");case 20:if(!(o.password.length>40)){t.next=25;break}return u({emailError:"",passwordError:"Password must be maximum of 40 characters.",confirmPasswordError:""}),E(""),D(!1),t.abrupt("return");case 25:if(n.test(o.password)){t.next=30;break}return u({emailError:"",passwordError:"Password must contain an uppercase.",confirmPasswordError:""}),E(""),D(!1),t.abrupt("return");case 30:if(c.test(o.password)){t.next=35;break}return u({emailError:"",passwordError:"Password must contain a lowercase.",confirmPasswordError:""}),E(""),D(!1),t.abrupt("return");case 35:if(s.test(o.password)){t.next=40;break}return u({emailError:"",passwordError:"Password must contain a number.",confirmPasswordError:""}),E(""),D(!1),t.abrupt("return");case 40:if(i.test(o.password)){t.next=45;break}return u({emailError:"",passwordError:"Password must contain a special character.",confirmPasswordError:""}),E(""),D(!1),t.abrupt("return");case 45:try{M()&&(u({emailError:"",passwordError:"",confirmPasswordError:""}),a({password:"",confirmPassword:"",email:""}),D(!1)),$?Object(S.h)(H,{password:o.password,oldPassword:o.confirmPassword}).then((function(t){0==t.status?(V(t.message),E(""),D(!1)):(u({emailError:"",passwordError:"",confirmPasswordError:""}),V(""),D(!1),E(t.message))})):Object(y.a)({email:o.email}).then((function(t){0==t.status?(V(t.message),E(""),D(!1)):(u({emailError:"",passwordError:"",confirmPasswordError:""}),V(""),D(!1),E(t.message))}))}catch(L){}case 46:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}();return g.a.createElement(g.a.Fragment,null,g.a.createElement(T,null,$&&!$.verified?g.a.createElement(x.a,{to:"/verify-email"}):null,g.a.createElement(A,{onSubmit:Q},g.a.createElement(k,null,$?"Update Password":"Change Password"),$?g.a.createElement(g.a.Fragment,null,g.a.createElement(C,null,g.a.createElement(z,{htmlFor:"confirmPassword"},"Current Password"),g.a.createElement(J,{type:"password",name:"confirmPassword",value:o.confirmPassword,onChange:K,error:i.confirmPasswordError}),i.confirmPasswordError?g.a.createElement(N,null,i.confirmPasswordError):null),g.a.createElement(C,null,g.a.createElement(z,{htmlFor:"password"},"Password"),g.a.createElement(J,{type:"password",name:"password",value:o.password,onChange:K,error:i.passwordError}),i.passwordError?g.a.createElement(N,null,i.passwordError):null)):g.a.createElement(C,null,g.a.createElement(z,{htmlFor:"email"},"Email"),g.a.createElement(J,{type:"email",name:"email",value:o.email,onChange:K,error:i.emailError}),i.emailError?g.a.createElement(N,null,i.emailError):null),g.a.createElement(C,null,R?g.a.createElement(B,{disabled:!0,type:"submit"},$?"Updating":"Submitting",g.a.createElement(P.a,null)):g.a.createElement(B,{type:"submit"},$?"Update":"Submit")),p?g.a.createElement(F,null,p):null,L?g.a.createElement(N,null,L):null)))}},665:function(t,r,e){"use strict";e.d(r,"e",(function(){return n})),e.d(r,"a",(function(){return o})),e.d(r,"f",(function(){return a})),e.d(r,"g",(function(){return c})),e.d(r,"b",(function(){return s})),e.d(r,"c",(function(){return i})),e.d(r,"d",(function(){return u})),e.d(r,"h",(function(){return l}));var n=function(t,r){return fetch("".concat("http://localhost:5000","/sendVerification"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},o=function(t,r){return fetch("".concat("http://localhost:5000","/activate"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},a=function(t,r){return fetch("".concat("http://localhost:5000","/submit-airdrop"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},c=function(t,r,e){return fetch("".concat("http://localhost:5000","/update/airdrop/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(e)}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},s=function(t,r){return fetch("".concat("http://localhost:5000","/delete/airdrop/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},i=function(t){return fetch("".concat("http://localhost:5000","/my-airdrops"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},u=function(t){return fetch("".concat("http://localhost:5000","/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},l=function(t,r){return fetch("".concat("http://localhost:5000","/updatePassword"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))}},720:function(t,r,e){"use strict";e.d(r,"b",(function(){return n})),e.d(r,"a",(function(){return o}));var n=function(t){return fetch("".concat("http://localhost:5000","/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).catch((function(t){console.log(t)}))},o=function(t){return fetch("".concat("http://localhost:5000","/sendResetPasswordCode"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).catch((function(t){console.log(t)}))}}}]);
//# sourceMappingURL=25.b33e9a79.chunk.js.map