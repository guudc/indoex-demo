(this["webpackJsonpdxswap-dapp"]=this["webpackJsonpdxswap-dapp"]||[]).push([[20],{1264:function(e,t,n){"use strict";n.r(t);var a=n(2),l=n.n(a),o=n(17),r=n(0),c=n.n(r),i=(n(750),n(718)),s=n.n(i),d=(n(719),function(e){var t='<a href="#/proposal?id='+e.id+'" class="no-a"><div class="vote-proposal-details">';return t+='<div class="vote-title">'+e.title+"</div>",t+='<i class=""></i></div></a>'}),u=function(){return'<div class="vote-proposal-empty">There is no active proposal</div>'},v=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"vote-bar",id:"vote-bar-running"}))},m=function(e){if(document.getElementById("vote-bar-running").innerHTML="",e.length<1)document.getElementById("vote-bar-running").innerHTML=u();else for(var t=0;t<e.length;t++)document.getElementById("vote-bar-running").innerHTML+=d(e[t])},p=function(e){var t='<a href="#/proposal?id='+e.id+'" class="no-a"><div class="vote-proposal-details">';return t+='<div class="vote-title">'+e.title+"</div>","undecided"==e.status?t+='<i class="vote-status-undecided fas fa-check-circle"></i></div>':t+='<i class="vote-status-executed fas fa-check-circle"></i></div></a>',t},h=function(){return'<div class="vote-proposal-empty">There is no settled proposal</div>'},f=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"vote-bar",id:"vote-bar-settled"}))},g=function(e){if(document.getElementById("vote-bar-settled").innerHTML="",e.length<1)document.getElementById("vote-bar-settled").innerHTML=h();else for(var t=0;t<e.length;t++)document.getElementById("vote-bar-settled").innerHTML+=p(e[t])},y=function(e){var t='<a href="#/proposal?id='+e.id+'" class="no-a"><div class="vote-proposal-details">';return t+='<div class="vote-title">'+e.title+"</div>",t+='<i class="vote-status-cancelled fas fa-check-times"></i></div></a>'},E=function(){return'<div class="vote-proposal-empty">There is no cancelled proposal</div>'},b=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"vote-bar",id:"vote-bar-cancelled"}))},w=function(e){if(document.getElementById("vote-bar-cancelled").innerHTML="",e.length<1)document.getElementById("vote-bar-cancelled").innerHTML=E();else for(var t=0;t<e.length;t++)document.getElementById("vote-bar-cancelled").innerHTML+=y(e[t])},x=n(199),N=n.n(x),k=n(22),I=n(38),C=n(166),T="".concat("http://localhost:5000","/"),B=function e(){(function(){return O.apply(this,arguments)})().then((function(e){if(e.status){for(var t=e.data,n=[],a=[],l=[],o=0;o<t.length;o++)t[o].data.id=t[o].id,"active"==t[o].data.status?n.push(t[o].data):"settled"==t[o].data.status||"undecided"==t[o].data.status?a.push(t[o].data):"cancelled"==t[o].data.status&&l.push(t[o].data);m(n),g(a),w(l)}})).catch((function(t){setTimeout((function(){e()}),3e3)}))},H=function(e){try{var t=document.getElementById("proposal-views");if(null!=t){for(var n=0;n<t.children.length;n++)t.children[n].className="";var a=document.getElementById("vote-proposal-box");if(null!=a){for(var l=a.children,o=0;o<l.length;o++)l[o].style.display="none";l[e].style.display="flex"}t.children[e].className="selected-proposal"}}catch(r){}},M=function(){H(0)},L=function(){H(1)},j=function(){H(2)},P=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==(null===(t=window.ethereum)||void 0===t?void 0:t.request)){e.next=17;break}return e.prev=1,e.next=4,null===(n=window.ethereum)||void 0===n?void 0:n.request({method:"wallet_switchEthereumChain",params:[{chainId:N.a.utils.toHex(137)}]});case 4:e.next=17;break;case 6:if(e.prev=6,e.t0=e.catch(1),4902!==(null===(a=e.t0)||void 0===a?void 0:a.code)){e.next=17;break}return e.prev=9,e.next=12,null===(o=window.ethereum)||void 0===o?void 0:o.request({method:"wallet_addEthereumChain",params:[{chainId:N.a.utils.toHex(137),chainName:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},blockExplorerUrls:["https://polygonscan.com"],rpcUrls:["https://poly-mainnet.gateway.pokt.network/v1/lb/61141e8259501900341bb3e2"]}]});case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(9),console.log(e.t1);case 17:case"end":return e.stop()}}),e,null,[[1,6],[9,14]])})));return function(){return e.apply(this,arguments)}}();function O(){return(O=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(T+"allproposal",{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json().then((function(e){return e}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){window.location.href="#/voting"};t.default=function(){var e=Object(k.a)(),t=e.account,n=e.chainId,a=(e.library,Object(I.k)()),l=document.getElementById("voting_warning"),o=document.getElementById("votingParent");return null!=l&&null!=o&&(null==t||137!=n&&null!=n?(l.style.display="block",o.style.display="none"):(l.style.display="none",o.style.display="")),Object(C.f)("vote"),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"bg-image"}),c.a.createElement("div",{id:"votingParent",className:"dxvote"},c.a.createElement("h3",{className:"dxvote-title"},"INDOEX Governance"),c.a.createElement("div",{className:"voteContainer"},c.a.createElement("div",{className:"vote"},c.a.createElement("div",{className:"vote-content-header"},c.a.createElement("p",{className:"vote-content"},"IND tokens represent vote shares in Indoex governance. You can vote on each proposal yourself or delegate your votes to a third party.")),c.a.createElement("div",{className:"vote-proposal-box"},c.a.createElement("div",{className:"vote-proposal"},c.a.createElement("p",{className:"proposal-title"},"Proposal"),c.a.createElement("button",{onClick:_,className:"create-proposal-btn"},"Create Proposal")))),c.a.createElement("div",{className:"vote"},c.a.createElement("div",{className:"proposal-views",id:"proposal-views"},c.a.createElement("p",{onClick:M,className:"selected-proposal"},"Running"),c.a.createElement("p",{onClick:L},"Settled"),c.a.createElement("p",{onClick:j},"Cancelled")),c.a.createElement("div",{className:"vote-proposal-box",id:"vote-proposal-box"},c.a.createElement(v,null),c.a.createElement(f,null),c.a.createElement(b,null))))),c.a.createElement("div",{id:"voting_warning",className:"votingContainer",style:{display:"none"}},c.a.createElement("div",{className:"voting"},c.a.createElement("div",{className:"voting-content-header",style:{background:"none"}},c.a.createElement("h3",{className:"dxvoting-title"},"Voting"),c.a.createElement("p",{className:"voting-content",style:{textAlign:"center"}},"All voting can only be done on the Polygon Network.")),c.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},c.a.createElement("img",{src:s.a,style:{maxWidth:"250px",maxHeight:"250px",marginBottom:"30px",marginTop:"20px"}}),t?c.a.createElement("button",{onClick:P,className:"voting voting_warning"},"Switch network to Polygon"):c.a.createElement("button",{onClick:a,className:"voting voting_warning"},"Connect Wallet")))),function(){var e=setInterval((function(){var t=document.getElementById("proposal-views");if(null!=t){clearInterval(e);for(var n=0;n<t.children.length;n++)t.children[n].className="";var a=document.getElementById("vote-proposal-box");if(null!=a)for(var l=a.children,o=0;o<l.length;o++)l[o].style.display="none";H(0),B()}}),1e3)}())}},718:function(e,t,n){e.exports=n.p+"static/media/wrong.a5eb2125.png"},719:function(e,t,n){},750:function(e,t,n){}}]);
//# sourceMappingURL=20.0949a50e.chunk.js.map