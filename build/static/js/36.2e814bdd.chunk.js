(this["webpackJsonpdxswap-dapp"]=this["webpackJsonpdxswap-dapp"]||[]).push([[36],{1261:function(e,t,r){"use strict";r.r(t);var a,n,o,s,c,l,d,m,i,u=r(2),p=r.n(u),f=r(17),b=r(13),w=r(16),E=r(18),h=r(5),g=r(0),v=r.n(g),j=r(7),x=r(716),O=r.n(x),P=r(106),y=r(72),k=r(305),C=j.default.div(a||(a=Object(h.a)(["\n\twidth: 100%;\n\toverflow: visible;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin: auto;\n"]))),S=j.default.form(n||(n=Object(h.a)(["\n\twidth: calc(100% - 40px);\n\tmax-width: 400px;\n\tbackground-color: ",";\n\tborder: 1px solid ",";\n\tborder-radius: 8px;\n\tpadding: 1rem;\n"])),(function(e){return e.theme.bg1}),(function(e){return e.theme.bg2})),z=j.default.h2(o||(o=Object(h.a)(["\n\tfont-size: 1.3rem;\n\ttext-align: center;\n\tmargin-bottom: 1rem;\n"]))),F=j.default.div(s||(s=Object(h.a)(["\n\tmargin-bottom: 1.5rem;\n"]))),R=j.default.label(c||(c=Object(h.a)(["\n\tfont-size: 1rem;\n"]))),J=j.default.input(l||(l=Object(h.a)(["\n\tbackground: none;\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 0.5rem;\n\tfont-size: 1rem;\n\tborder: 1px solid #eaeaea;\n\tcolor: #ffffff;\n\tborder-radius: 5px;\n\tmargin-bottom: 0.5rem;\n\t&:focus {\n\t\toutline: none;\n\t\tcolor: #ffffff;\n\t\tborder-color: #eaeaea;\n\t\tborder-width: 2px;\n\t}\n\t",";\n"])),(function(e){return e.error&&"\n    border-color: #f44336;\n  "})),A=j.default.button(d||(d=Object(h.a)(["\n\twidth: 100%;\n\tcursor: pointer;\n\ttransition: all 0.5s ease;\n\tbackground-color: #7eb946;\n\tcolor: #ffffff;\n\tfont-size: 1rem;\n\tpadding: 0.5rem 1rem;\n\tborder: none;\n\tborder-radius: 5px;\n\t&:hover {\n\t\tbackground-color: #212121;\n\t\tcolor: #eaeaea;\n\t}\n"]))),D=j.default.p(m||(m=Object(h.a)(["\n\tfont-size: 1rem;\n\tcolor: #f44336;\n"]))),W=j.default.p(i||(i=Object(h.a)(["\n\tfont-size: 1rem;\n\tcolor: #4caf50;\n"])));t.default=function(e){e.history;var t=Object(g.useState)({email:"",code:"",password:"",confirmPassword:""}),r=Object(E.a)(t,2),a=r[0],n=r[1],o=Object(g.useState)({emailError:"",codeError:"",passwordError:"",confirmPasswordError:""}),s=Object(E.a)(o,2),c=s[0],l=s[1],d=Object(g.useState)(""),m=Object(E.a)(d,2),i=m[0],u=m[1],h=Object(g.useState)(""),j=Object(E.a)(h,2),x=j[0],Z=j[1],$=Object(g.useState)(!1),q=Object(E.a)($,2),B=q[0],G=q[1],H=Object(g.useState)(null),I=Object(E.a)(H,2),K=I[0],L=(I[1],Object(k.b)().user),M=function(e){var t=e.target,r=t.name,o=t.value;n(Object(w.a)(Object(w.a)({},a),{},Object(b.a)({},r,o)))},N=function(){var e="",t="",r="",n="";return a.email||(e="Email cannot be empty"),a.code||(t="Code cannot be empty"),a.password||(r="Password cannot be empty"),a.confirmPassword||(n="Confirm password cannot be empty"),a.password!==a.confirmPassword&&(n="Passwords must match"),!(e||r||n||t)||(l({emailError:e,codeError:t,passwordError:r,confirmPasswordError:n}),!1)},Q=function(){var e=Object(f.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat("http://localhost:5000","/changePassword"),{email:a.email,password:a.password});case 3:t=e.sent,0==(r=t.data).status?Z(r.message):u(r.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),Z(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,o,s,c,d,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),G(!0),r=new RegExp("^(?=.*[A-Z])"),o=new RegExp("^(?=.*[a-z])"),s=new RegExp("^(?=.*[0-9])"),c=/^(.*\W).*$/,a.password.length<8&&(Z("Password must be atleast 8 characters."),u(""),G(!1)),a.password.length>40&&(Z("Password must be maximum of 40 characters."),u(""),G(!1)),r.test(a.password)||(Z("Password must contain an uppercase."),u(""),G(!1)),o.test(a.password)||(Z("Password must contain a lowercase."),u(""),G(!1)),s.test(a.password)||(Z("Password must contain a number."),u(""),G(!1)),c.test(a.password)){e.next=16;break}return Z("Password must contain a special character."),u(""),G(!1),e.abrupt("return");case 16:if(e.prev=16,!N()){e.next=35;break}return l({emailError:"",codeError:"",passwordError:"",confirmPasswordError:""}),e.next=22,O.a.post("".concat("http://localhost:5000","/validateResetCode"),{code:a.code,email:a.email});case 22:if(d=e.sent,0!=(m=d.data).status){e.next=31;break}return Z(m.message),u(""),G(!1),e.abrupt("return");case 31:n({email:"",password:"",code:"",confirmPassword:""}),Q(),G(!1),u(m.message);case 35:G(!1),e.next=44;break;case 38:e.prev=38,e.t0=e.catch(16),console.log(e.t0),u(""),Z("Error resetting your password. Please try again later"),G(!1);case 44:case"end":return e.stop()}}),e,null,[[16,38]])})));return function(t){return e.apply(this,arguments)}}();return v.a.createElement(v.a.Fragment,null,L&&K&&!K.verified?v.a.createElement(y.a,{to:"/verify-email"}):null,v.a.createElement(C,null,v.a.createElement(S,{onSubmit:T},v.a.createElement(z,null,"Reset Password"),v.a.createElement(F,null,v.a.createElement(R,{htmlFor:"email"},"Code"),v.a.createElement(J,{type:"text",name:"code",placeholder:"Provide your email verifiction code",value:a.code,onChange:M,error:c.codeError}),c.codeError?v.a.createElement(D,null,c.codeError):null),v.a.createElement(F,null,v.a.createElement(R,{htmlFor:"email"},"Email"),v.a.createElement(J,{type:"email",name:"email",value:a.email,placeholder:"Enter your email address",onChange:M,error:c.emailError}),c.emailError?v.a.createElement(D,null,c.emailError):null),v.a.createElement(F,null,v.a.createElement(R,{htmlFor:"password"},"Password"),v.a.createElement(J,{type:"password",name:"password",value:a.password,onChange:M,error:c.passwordError}),c.passwordError?v.a.createElement(D,null,c.passwordError):null),v.a.createElement(F,null,v.a.createElement(R,{htmlFor:"confirmPassword"},"Confirm Password"),v.a.createElement(J,{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:M,error:c.confirmPasswordError}),c.confirmPasswordError?v.a.createElement(D,null,c.confirmPasswordError):null),v.a.createElement(F,null,B?v.a.createElement(A,{disabled:!0,type:"submit"},"Submitting",v.a.createElement(P.a,null)):v.a.createElement(A,{type:"submit"},"Submit")," "),i?v.a.createElement(W,null,i):null,x?v.a.createElement(D,null,x):null)))}}}]);
//# sourceMappingURL=36.2e814bdd.chunk.js.map