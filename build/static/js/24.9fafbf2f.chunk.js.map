{"version":3,"sources":["pages/Airdrop/Details/index.tsx","api/shared.ts","api/utils/index.js","api/protocols/utils.ts","api/index.ts","api/protocols/index.ts"],"names":["AirdropDetails","styled","div","AirdropDetailsContainer","theme","bg1","bg2","Top","Bottom","DetailsLeft","LeftMeta","Info","p","DetailsRight","numFor","iframe","Intl","NumberFormat","exclude","Details","params","useParams","useState","airdrops","state","setState","loading","setLoading","getAirdrops","a","getSimpleProtocolsPageData","basicPropertiesToKeep","protocolsRaw","protocols","filter","token","symbol","includes","name","map","listedAt","sort","b","protocol","url","process","fetch","response","json","data","props","chainList","chains","revalidate","useEffect","airdrop","find","_id","console","log","chainTvls","key","hasOwnProperty","obj","prop","push","i","src","logo","alt","format","Math","ceil","tvl","className","owner","chain","num","digits","item","value","slice","reverse","toFixed","replace","nFormatter","toString","split","style","marginTop","category","width","height","border","backgroundColor","marginBlock","href","target","rel","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","keepNeededProperties","propertiesToKeep","reduce","undefined","BigNumber","set","EXPONENTIAL_AT","dayjs","extend","utc","currency","minimumFractionDigits","getPercentChange","valueNow","value24HoursAgo","adjustedPercentChange","parseFloat","isNaN","isFinite","formatProtocolsData","oracle","fork","protocolProps","removeBridges","toFilter","oracles","forkedFrom","toLowerCase","tvlPrevDay","tvlPrevWeek","tvlPrevMonth","extraTvl","change_1d","change_7d","change_1m","mcaptvl","mcap","Object","entries","forEach","sectionName","sectionTvl","startsWith","sectionToAdd","firstChar","next22Minutedate","minutesForRollover","dt","Date","setMinutes","setHours","getHours","current","now","secondsTillRevalidation","getTime","getProtocolsRaw","PROTOCOLS_API","then","r","propsToKeep","filteredProtocols"],"mappings":"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","file":"static/js/24.9fafbf2f.chunk.js","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { ReactElement, useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { useParams } from 'react-router-dom'\nimport { revalidate } from '../../../api'\nimport { getSimpleProtocolsPageData } from '../../../api/protocols'\nimport { basicPropertiesToKeep } from '../../../api/protocols/utils'\nimport Loader from 'src/components/Loader'\n\nconst AirdropDetails = styled.div`\n\twidth: 100%;\n\tmin-height: 100vh;\n\tpadding: 30px;\n\n\t& h2 {\n\t\twidth: min(100% - 2rem, 950px);\n\t\tmargin-inline: auto;\n\t\tmargin-bottom: 20px;\n\t\tfont-size: 2.2rem;\n\t\tfont-weight: normal !important;\n\t}\n`\n\nconst AirdropDetailsContainer = styled.div`\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tborder: 1px solid ${({ theme }) => theme.bg2};\n\twidth: min(100% - 2rem, 950px);\n\tmargin-inline: auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 20px;\n\tborder-radius: 10px;\n\n\t& a {\n\t\t& button {\n\t\t\tbackground-color: #7eb946;\n\t\t\tborder: none;\n\t\t\tpadding: 10px 25px;\n\t\t\tcolor: #fff;\n\t\t\tcursor: pointer;\n\t\t\toutline: none;\n\t\t}\n\t}\n`\n\nconst Top = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\n\t@media only screen and (max-width: 600px) {\n\t\tdisplay: block;\n\t}\n`\n\nconst Bottom = styled.div`\n\tdisplay: flex;\n\n\tflex-direction: column;\n\talign-items: center;\n\n\t& p {\n\t\tmargin-block: 20px;\n\n\t\t& a {\n\t\t\ttext-decoration: none;\n\t\t}\n\t}\n\n\t& span {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\t& svg {\n\t\t\twidth: 20px;\n\t\t}\n\t}\n\n\t& button {\n\t\tborder: none;\n\t\tpadding: 15px 20px;\n\t\toutline: none;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\ttext-transform: uppercase;\n\t\tfont-size: 1.5rem;\n\t\tcolor: #fff;\n\t\tbackground-color: #7eb946;\n\t\tborder-radius: 4px;\n\n\t\t& svg {\n\t\t\twidth: 20px;\n\t\t\tcolor: #fff !important;\n\t\t}\n\t}\n`\n\nconst DetailsLeft = styled.div`\n\tmin-width: 35%;\n\tpadding-right: 20px;\n\n\t& section {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tflex-direction: column;\n\n\t\t& img {\n\t\t\twidth: 170px;\n\t\t}\n\n\t\t& span {\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 10px;\n\t\t\tborder: 1px solid #555;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tmin-width: 100px;\n\n\t\t\t& b {\n\t\t\t\tfont-weight: bolder;\n\t\t\t\tfont-size: 1.15rem;\n\t\t\t}\n\n\t\t\t& svg {\n\t\t\t\twidth: 20px;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t}\n\t}\n`\n\nconst LeftMeta = styled.div`\n\tdisplay: block;\n\tmargin-top: 20px;\n\n\t& .chain-details {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\t& .chain-details div {\n\t\tdisplay: block;\n\t}\n\n\t& span {\n\t\tdisplay: block;\n\t\tfont-weight: 200;\n\t\tmargin-bottom: 8px;\n\n\t\t& a {\n\t\t\ttext-decoration: none;\n\t\t}\n\t}\n`\n\nconst Info = styled.p`\n\t& a {\n\t\ttext-decoration: none;\n\t}\n`\nconst NavLink = styled.p`\n\ttext-decoration: underline;\n\tcolor: green;\n`\n\nconst DetailsRight = styled.div`\n  letter-spacing: 0.4px;\n  line-height: 1.5;\n  padding-left: 20px;\n\n  & p {\n    margin-bottom: 20px;\n    font-size: 1.1rem;\n  }\n\n  & h5 {\n    font-size: 1rem;\n    font-weight: 800 !important;\n    margin-bottom: 5pximport { moment } from 'mom';\n;\n  }\n\n  & ul {\n    counter-reset: number;\n    list-style-type: none;\n    padding-left: 20px;\n    margin-bottom: 30px;\n\n    & li {\n      counter-increment: number;\n\n      & a {\n        text-decoration: none;\n      }\n\n      &::before {\n        content: counter(number) '.  ';\n      }\n    }\n  }\n`\n\nconst Meta = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 10px 30px;\n\talign-items: center;\n\n\t& p {\n\t\tfont-size: 1.5rem;\n\t\tmargin-bottom: 10px;\n\t}\n\n\t& span {\n\t\tcolor: #5b8cbf;\n\t\tfont-size: 1.5rem;\n\t}\n`\n\nconst Generic = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 10px;\n\tmargin-bottom: 20px;\n\n\t& h2 {\n\t\tmargin: 0;\n\t\tfont-size: 1.7rem;\n\t}\n`\n\nconst Overview = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\twidth: 100%;\n`\n\nconst OverviewLeft = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 40%;\n\n\t& span {\n\t\tmargin-bottom: 5px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\t& button {\n\t\t\tcolor: #ffffff;\n\t\t\tborder: 1px solid #ffffff;\n\t\t\tpadding: 5px 30px;\n\t\t\tbackground-color: transparent;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t& a {\n\t\t\ttext-decoration: none;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: 20px;\n\t\t}\n\t}\n`\nconst OverviewRight = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 40%;\n\n\t& span {\n\t\tmargin-bottom: 5px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\t& svg {\n\t\t\twidth: 20px;\n\t\t}\n\t}\n`\n\nconst IframeContainer = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n`\n\nconst Iframe = styled.iframe`\n\twidth: min(100% - 4rem, 600px);\n\theight: 400px;\n\tborder: none;\n`\n\nconst numFor = Intl.NumberFormat('en-US')\n\nfunction CardMeta(props: { name: string; value: any }): ReactElement {\n\tconst { name, value } = props\n\treturn (\n\t\t<Meta>\n\t\t\t<p>{name}</p>\n\t\t\t<span>${numFor.format(value)}</span>\n\t\t</Meta>\n\t)\n}\n\nfunction GenericCard(props: { header: string; body: ReactElement }): ReactElement {\n\tconst { header, body } = props\n\treturn (\n\t\t<Generic>\n\t\t\t<h2>{header}</h2>\n\t\t\t<hr style={{ width: '100%', height: 1, border: 'none', backgroundColor: 'grey', marginBlock: 20 }} />\n\t\t\t<div>{body}</div>\n\t\t</Generic>\n\t)\n}\n\nfunction SocialLink(props: { name: string; icon: ReactElement }): ReactElement {\n\tconst { name, icon } = props\n\treturn (\n\t\t<span>\n\t\t\t{name}: &nbsp;<a href=\"#\">{icon}</a>\n\t\t</span>\n\t)\n}\n\ninterface Params {\n\tname: string\n}\n\nconst exclude = [\n\t'DeerFi',\n\t'FireDAO',\n\t'Robo-Advisor for Yield',\n\t'SenpaiSwap',\n\t'Zunami Protocol',\n\t'NowSwap',\n\t'NeoBurger',\n\t'MochiFi',\n\t'StakeHound',\n\t'Mento',\n\t'Lightning Network',\n\t'Secret Bridge',\n\t'Karura Swap',\n\t'Karura Liquid-Staking',\n\t'Karura Dollar (kUSD)',\n\t'Tezos Liquidity Baking',\n\t'Notional',\n\t'Tinlake',\n\t'Kuu Finance'\n]\n\nconst Details: React.FC<{}> = (): ReactElement => {\n\tconst params = useParams<Params>()\n\tconst [state, setState] = useState({\n\t\tairdrops: []\n\t} as any)\n\tconst [loading, setLoading] = useState(true)\n\n\tconst getAirdrops = async () => {\n\t\tconst protocolsRaw = await getSimpleProtocolsPageData([\n\t\t\t...basicPropertiesToKeep,\n\t\t\t'extraTvl',\n\t\t\t'listedAt',\n\t\t\t'chainTvls'\n\t\t])\n\n\t\tconst protocols = protocolsRaw.protocols\n\t\t\t.filter((token) => (token.symbol === null || token.symbol === '-') && !exclude.includes(token.name))\n\t\t\t.map((p) => ({ listedAt: 1624728920, ...p }))\n\t\t\t.sort((a, b) => b.listedAt - a.listedAt)\n\t\tconst airdrops = protocols.map((protocol) => protocol)\n\t\tconst url = `${process.env.REACT_APP_BACKEND_API}/airdrops`\n\n\t\tconst response = await fetch(url)\n\t\tconst data = await response.json()\n\t\tif (airdrops || data) {\n\t\t\tsetState({ ...state, airdrops: [...airdrops, ...data.airdrops] })\n\t\t\tsetLoading(false)\n\t\t}\n\t\treturn {\n\t\t\tprops: {\n\t\t\t\tprotocols,\n\t\t\t\tchainList: protocolsRaw.chains\n\t\t\t},\n\t\t\trevalidate: revalidate()\n\t\t}\n\t}\n\n\tconst { airdrops } = state\n\n\tuseEffect(() => {\n\t\tgetAirdrops()\n\t}, [])\n\n\tconst airdrop = airdrops.find((airdrop) => airdrop?._id === params.name)\n\n\tconsole.log({ params, airdrop })\n\tconst chainTvls = []\n\tconst chains = []\n\n\tfor (const key in airdrop?.chainTvls) {\n\t\tif (!airdrop?.chainTvls.hasOwnProperty(key)) continue\n\n\t\tconst obj = airdrop?.chainTvls[key]\n\t\tchainTvls.push(obj)\n\n\t\tfor (const prop in obj) {\n\t\t\tif (!obj.hasOwnProperty(prop)) continue\n\t\t}\n\t}\n\n\tlet i: any = []\n\tfor (i in airdrop?.chainTvls) {\n\t\tif (airdrop?.chainTvls.hasOwnProperty(i)) {\n\t\t\tchains.push(i)\n\t\t}\n\t}\n\n\tfunction nFormatter(num, digits) {\n\t\tconst lookup = [\n\t\t\t{ value: 1, symbol: '' },\n\t\t\t{ value: 1e3, symbol: 'k' },\n\t\t\t{ value: 1e6, symbol: 'M' },\n\t\t\t{ value: 1e9, symbol: 'G' },\n\t\t\t{ value: 1e12, symbol: 'T' },\n\t\t\t{ value: 1e15, symbol: 'P' },\n\t\t\t{ value: 1e18, symbol: 'E' }\n\t\t]\n\t\tconst rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/\n\t\tconst item = lookup\n\t\t\t.slice()\n\t\t\t.reverse()\n\t\t\t.find(function (item) {\n\t\t\t\treturn num >= item.value\n\t\t\t})\n\t\treturn item ? (num / item.value).toFixed(digits).replace(rx, '$1') + item.symbol : '0'\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<>\n\t\t\t\t\t<h2>Loading airdrop info...Please wait</h2>\n\t\t\t\t\t<Loader />\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<AirdropDetails>\n\t\t\t\t\t<h2>{airdrop?.name}</h2>\n\t\t\t\t\t<AirdropDetailsContainer>\n\t\t\t\t\t\t<Top>\n\t\t\t\t\t\t\t<DetailsLeft>\n\t\t\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t\t\t<img src={airdrop?.logo} alt=\"Airdrop Logo\" />\n\t\t\t\t\t\t\t\t\t<p>Total Value Locked</p>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<b>${numFor.format(Math.ceil(airdrop?.tvl))}</b>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t<LeftMeta>\n\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t<p>Chain Breakdown</p>\n\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t<div className=\"chain-details\">\n\t\t\t\t\t\t\t\t\t\t{airdrop?.owner ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Chain: &nbsp;&nbsp;</b>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{airdrop?.chains}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{chains.map((chain, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={key}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{chain}: &nbsp;&nbsp;</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{chainTvls.map((chainTvls, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={key}>${nFormatter(chainTvls.tvl, chainTvls.tvl.toString().split('.'))}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</LeftMeta>\n\t\t\t\t\t\t\t</DetailsLeft>\n\t\t\t\t\t\t\t<DetailsRight>\n\t\t\t\t\t\t\t\t<p>{airdrop?.name}</p>\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<strong>Chains</strong>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t{airdrop?.owner ? (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t\t<li style={{ marginTop: '5px' }}>{airdrop?.chains}</li>\n\t\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t\t{chains.map((chain, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li style={{ marginTop: '5px' }} key={key}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{chain}\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<strong>Category</strong>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t<li style={{ marginTop: '5px' }}>{airdrop?.category}</li>\n\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Info>\n\t\t\t\t\t\t\t\t\tYou&apos;re interested in more projects that do not have any token yet and could potentially airdrop a\n\t\t\t\t\t\t\t\t\tgovernance token to early users in the future?\n\t\t\t\t\t\t\t\t</Info>\n\t\t\t\t\t\t\t</DetailsRight>\n\t\t\t\t\t\t</Top>\n\t\t\t\t\t\t<hr style={{ width: '100%', height: 1, border: 'none', backgroundColor: 'grey', marginBlock: 30 }} />\n\t\t\t\t\t\t<a href={airdrop?.url} target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t\t\t<Bottom>\n\t\t\t\t\t\t\t\t<button>\n\t\t\t\t\t\t\t\t\tClaim Airdrop\n\t\t\t\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M8.90002 7.55999C9.21002 3.95999 11.06 2.48999 15.11 2.48999H15.24C19.71 2.48999 21.5 4.27999 21.5 8.74999V15.27C21.5 19.74 19.71 21.53 15.24 21.53H15.11C11.09 21.53 9.24002 20.08 8.91002 16.54\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"#ffffff\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M2 12H14.88\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"#ffffff\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M12.65 8.6499L16 11.9999L12.65 15.3499\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"#ffffff\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Bottom>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</AirdropDetailsContainer>\n\t\t\t\t</AirdropDetails>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default Details\n","export function keepNeededProperties(protocol: {}, propertiesToKeep: string[]): any {\n  return propertiesToKeep.reduce((obj, prop) => {\n    if (protocol[prop] !== undefined) {\n      obj[prop] = protocol[prop]\n    }\n    return obj\n  }, {})\n}\n","import * as React from 'react'\nimport { BigNumber } from 'bignumber.js'\nimport dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\nimport { Text } from 'rebass'\n// import Numeral from 'numeral'\nimport { timeframeOptions } from '../../constants'\nexport * from './blockExplorers'\n\nBigNumber.set({ EXPONENTIAL_AT: 50 })\ndayjs.extend(utc)\n\nexport function getTimeframe(timeWindow) {\n  const utcEndTime = dayjs.utc()\n  // based on window, get starttime\n  let utcStartTime\n  switch (timeWindow) {\n    case timeframeOptions.WEEK:\n      utcStartTime =\n        utcEndTime\n          .subtract(1, 'week')\n          .endOf('day')\n          .unix() - 1\n      break\n    case timeframeOptions.MONTH:\n      utcStartTime =\n        utcEndTime\n          .subtract(1, 'month')\n          .endOf('day')\n          .unix() - 1\n      break\n    case timeframeOptions.ALL_TIME:\n      utcStartTime =\n        utcEndTime\n          .subtract(1, 'year')\n          .endOf('day')\n          .unix() - 1\n      break\n    case timeframeOptions.YEAR:\n      utcStartTime =\n        utcEndTime\n          .subtract(1, 'year')\n          .endOf('day')\n          .unix() - 1\n      break\n    default:\n      utcStartTime =\n        utcEndTime\n          .subtract(1, 'year')\n          .startOf('year')\n          .unix() - 1\n      break\n  }\n  return utcStartTime\n}\n\nexport const toNiceDayAndHour = date => {\n  const x = dayjs.utc(dayjs.unix(date)).format('D MMM, HH:mm')\n  return x\n}\nexport const toNiceHour = date => {\n  const x = dayjs.utc(dayjs.unix(date)).format('HH:mm')\n  return x\n}\n\nexport const toNiceMonthlyDate = date => {\n  const x = dayjs.utc(dayjs.unix(date)).format('MMM YYYY')\n  return x\n}\n\nexport const toNiceDate = date => {\n  const x = dayjs.utc(dayjs.unix(date)).format('MMM DD')\n  return x\n}\n\nexport const toNiceCsvDate = date => {\n  const x = dayjs.utc(dayjs.unix(date)).format('DD/MM/YYYY')\n  return x\n}\n\nexport const toNiceDateYear = date => dayjs.utc(dayjs.unix(date)).format('MMMM DD, YYYY')\n\nexport const toK = num => {\n  return num\n}\n\n// using a currency library here in case we want to add more in future\nconst priceFormatter = new Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD',\n  minimumFractionDigits: 2\n})\n\nexport const formattedNum = (number, symbol = false, acceptNegatives = false) => {\n  let currencySymbol\n  if (symbol === true) {\n    currencySymbol = '$'\n  } else if (symbol === false) {\n    currencySymbol = ''\n  } else {\n    currencySymbol = symbol\n  }\n  if (isNaN(number) || number === '' || number === undefined) {\n    return symbol ? `${currencySymbol}0` : 0\n  }\n  let num = parseFloat(number)\n  const isNegative = num < 0\n  num = Math.abs(num)\n\n  const currencyMark = isNegative ? `${currencySymbol}-` : currencySymbol\n  const normalMark = isNegative ? '-' : ''\n\n  if (num > 10000000) {\n    return (symbol ? currencyMark : normalMark) + toK(num.toFixed(0), true)\n  }\n\n  if (num === 0) {\n    return symbol ? `${currencySymbol}0` : 0\n  }\n\n  if (num < 0.0001 && num > 0) {\n    return symbol ? `< ${currencySymbol}0.0001` : '< 0.0001'\n  }\n\n  if (num > 1000) {\n    return symbol\n      ? currencyMark + Number(parseFloat(num).toFixed(0)).toLocaleString()\n      : normalMark + Number(parseFloat(num).toFixed(0)).toLocaleString()\n  }\n\n  if (symbol) {\n    if (num < 0.1) {\n      return currencyMark + Number(parseFloat(num).toFixed(4))\n    } else {\n      const usdString = priceFormatter.format(num)\n      return currencyMark + usdString.slice(1, usdString.length)\n    }\n  }\n\n  return Number(parseFloat(num).toFixed(5))\n}\n\nexport const formattedPeggedPrice = (number, symbol = false, acceptNegatives = false) => {\n  let currencySymbol\n  if (symbol === true) {\n    currencySymbol = '$'\n  } else if (symbol === false) {\n    currencySymbol = ''\n  } else {\n    currencySymbol = symbol\n  }\n  if (isNaN(number) || number === '' || number === undefined) {\n    return symbol ? `${currencySymbol}0` : 0\n  }\n  let num = parseFloat(number)\n  const isNegative = num < 0\n  num = Math.abs(num)\n\n  const currencyMark = isNegative ? `${currencySymbol}-` : currencySymbol\n  const normalMark = isNegative ? '-' : ''\n\n  if (num > 10000000) {\n    return (symbol ? currencyMark : normalMark) + toK(num.toFixed(0), true)\n  }\n\n  if (num === 0) {\n    return symbol ? `${currencySymbol}0` : 0\n  }\n\n  if (num < 0.0001 && num > 0) {\n    return symbol ? `< ${currencySymbol}0.0001` : '< 0.0001'\n  }\n\n  if (num > 1000) {\n    return symbol\n      ? currencyMark + Number(parseFloat(num).toFixed(0)).toLocaleString()\n      : normalMark + Number(parseFloat(num).toFixed(0)).toLocaleString()\n  }\n\n  if (symbol) {\n    return currencyMark + parseFloat(num).toFixed(5) // this is all pegged is using, should merge with above\n  }\n\n  return Number(parseFloat(num).toFixed(5))\n}\n\nexport const filterCollectionsByCurrency = (collections, displayUsd) =>\n  (collections &&\n    collections.length &&\n    collections.map(collection => ({\n      ...collection,\n      floor: displayUsd ? collection?.floorUSD : collection?.floor,\n      dailyVolume: displayUsd ? collection?.dailyVolumeUSD : collection?.dailyVolume,\n      totalVolume: displayUsd ? collection?.totalVolumeUSD : collection?.totalVolume\n    }))) ||\n  []\n\nexport function chainIconUrl(chain) {\n  return `/chain-icons/rsz_${chain.toLowerCase()}.jpg`\n}\n\nexport function tokenIconUrl(name) {\n  const x = name ?? ''\n  return `/icons/${x\n    .toLowerCase()\n    .split(' ')\n    .join('-')}.jpg`\n}\n\n/**\n * @param {string} symbol Asset symbol\n * @param {boolean} hd Return HD icon if true\n * @returns {string} URL to the asset icon\n */\nexport function assetIconUrl(symbol, hd = false) {\n  if (hd) {\n    return `/asset-icons/hd/${symbol.toLowerCase()}.png`\n  } else {\n    return `/asset-icons/${symbol.toLowerCase()}.png`\n  }\n}\n\nexport function peggedAssetIconUrl(name) {\n  return `/pegged-icons/${encodeURIComponent(\n    name\n      .toLowerCase()\n      .split(' ')\n      .join('-')\n  )}.jpg`\n}\n\nexport function formattedPercent(percent, noSign = false, fontWeight = 500) {\n  if (percent === null) {\n    return null\n  }\n\n  let up = 'green'\n  let down = 'red'\n\n  if (noSign) {\n    up = down = ''\n  }\n\n  percent = parseFloat(percent)\n  if (!percent || percent === 0) {\n    return <Text fontWeight={fontWeight}>0%</Text>\n  }\n\n  if (percent < 0.0001 && percent > 0) {\n    return (\n      <Text fontWeight={fontWeight} color={up}>\n        {'< 0.0001%'}\n      </Text>\n    )\n  }\n\n  if (percent < 0 && percent > -0.0001) {\n    return (\n      <Text fontWeight={fontWeight} color={down}>\n        {'< 0.0001%'}\n      </Text>\n    )\n  }\n\n  const fixedPercent = percent.toFixed(2)\n  if (fixedPercent === '0.00') {\n    return '0%'\n  }\n  const prefix = noSign ? '' : '+'\n  if (fixedPercent > 0) {\n    if (fixedPercent > 100) {\n      return <Text fontWeight={fontWeight} color={up}>{`${prefix}${percent?.toFixed(0).toLocaleString()}%`}</Text>\n    } else {\n      return <Text fontWeight={fontWeight} color={up}>{`${prefix}${fixedPercent}%`}</Text>\n    }\n  } else {\n    return <Text fontWeight={fontWeight} color={down}>{`${fixedPercent}%`}</Text>\n  }\n}\n\n/**\n * get standard percent change between two values\n * @param {*} valueNow\n * @param {*} value24HoursAgo\n */\nexport const getPercentChange = (valueNow, value24HoursAgo) => {\n  const adjustedPercentChange =\n    ((parseFloat(valueNow) - parseFloat(value24HoursAgo)) / parseFloat(value24HoursAgo)) * 100\n  if (isNaN(adjustedPercentChange) || !isFinite(adjustedPercentChange)) {\n    return null\n  }\n  return adjustedPercentChange\n}\n\nexport const capitalizeFirstLetter = word => word.charAt(0).toUpperCase() + word.slice(1)\n\nexport const standardizeProtocolName = (tokenName = '') =>\n  tokenName\n    .toLowerCase()\n    .split(' ')\n    .join('-')\n    .split(\"'\")\n    .join('')\n\nexport const slug = standardizeProtocolName\n\nexport function getRandomColor() {\n  const letters = '0123456789ABCDEF'\n  let color = '#'\n  for (let i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * 16)]\n  }\n  return color\n}\n\nexport const getTokenDominance = (topToken, totalVolume) => {\n  const dominance = topToken.tvl && totalVolume && (topToken.tvl / totalVolume) * 100.0\n\n  if (dominance < 100) {\n    return dominance.toFixed(2)\n  } else return 100\n}\n\nexport const getPeggedDominance = (topToken, totalMcap) => {\n  const dominance = topToken.mcap && totalMcap && (topToken.mcap / totalMcap) * 100.0\n\n  if (dominance < 100) {\n    return dominance.toFixed(2)\n  } else return 100\n}\n\n/**\n * get tvl of specified day before last day using chart data\n * @param {*} chartData\n * @param {*} daysBefore\n */\nexport const getPrevTvlFromChart = (chart, daysBefore) => {\n  return chart[chart.length - 1 - daysBefore]?.[1] ?? null\n}\n\nexport const getPrevPeggedTotalFromChart = (chart, daysBefore, issuanceType, pegType = '') => {\n  const prevChart = chart[chart.length - 1 - daysBefore]\n  if (!prevChart) return null\n  if (!pegType) return Object.values(prevChart?.[issuanceType]).reduce((a, b) => a + b)\n  return prevChart?.[issuanceType]?.[pegType] ?? null\n}\n\nexport function download(filename, text) {\n  const element = document.createElement('a')\n  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text))\n  element.setAttribute('download', filename)\n\n  element.style.display = 'none'\n  document.body.appendChild(element)\n\n  element.click()\n\n  document.body.removeChild(element)\n}\n","/* eslint-disable @typescript-eslint/camelcase */\nimport type { IFormattedProtocol, LiteProtocol } from '../types'\nimport { keepNeededProperties } from '../shared'\nimport { getPercentChange } from '../utils'\n\nexport type BasicPropsToKeep = (keyof IFormattedProtocol)[]\n\n// eslint-disable-next-line @typescript-eslint/interface-name-prefix\ninterface IFormatProtocolsData {\n\tchain?: string\n\toracle?: string\n\tfork?: string\n\tcategory?: string\n\tprotocols: LiteProtocol[]\n\tprotocolProps?: BasicPropsToKeep\n\tremoveBridges?: boolean\n}\n\nexport const basicPropertiesToKeep: BasicPropsToKeep = [\n\t'tvl',\n\t'name',\n\t'symbol',\n\t'chains',\n\t'tvlPrevDay',\n\t'tvlPrevWeek',\n\t'tvlPrevMonth',\n\t'change_1d',\n\t'change_7d',\n\t'change_1m',\n\t'mcap',\n\t'mcaptvl',\n\t'category',\n\t'parentProtocol',\n\t'logo',\n\t'url',\n\t'description'\n]\n\nexport const formatProtocolsData = ({\n\tchain = '',\n\toracle,\n\tfork,\n\tcategory = '',\n\tprotocols = [],\n\tprotocolProps = [...basicPropertiesToKeep, 'extraTvl'],\n\tremoveBridges = false\n}: IFormatProtocolsData) => {\n\tconst data: IFormattedProtocol[] = protocols\n\t\t.filter((protocol) => {\n\t\t\tlet toFilter = true\n\n\t\t\tif (removeBridges) {\n\t\t\t\ttoFilter = toFilter && protocol?.category !== 'Bridge'\n\t\t\t}\n\n\t\t\tif (chain) {\n\t\t\t\ttoFilter = toFilter && protocol.chains?.includes(chain)\n\t\t\t}\n\n\t\t\tif (oracle) {\n\t\t\t\ttoFilter = toFilter && protocol.oracles?.includes(oracle)\n\t\t\t}\n\n\t\t\tif (fork) {\n\t\t\t\ttoFilter = toFilter && protocol.forkedFrom?.includes(fork)\n\t\t\t}\n\n\t\t\tif (category) {\n\t\t\t\ttoFilter = toFilter && category.toLowerCase() === (protocol.category?.toLowerCase() ?? '')\n\t\t\t}\n\n\t\t\treturn toFilter\n\t\t})\n\t\t.map((p) => {\n\t\t\tconst protocol = keepNeededProperties(p, protocolProps)\n\n\t\t\tif (chain) {\n\t\t\t\tprotocol.tvl = p.chainTvls[chain]?.tvl ?? 0\n\t\t\t\tprotocol.tvlPrevDay = p.chainTvls[chain]?.tvlPrevDay ?? null\n\t\t\t\tprotocol.tvlPrevWeek = p.chainTvls[chain]?.tvlPrevWeek ?? null\n\t\t\t\tprotocol.tvlPrevMonth = p.chainTvls[chain]?.tvlPrevMonth ?? null\n\t\t\t}\n\n\t\t\tprotocol.extraTvl = {}\n\t\t\tprotocol.change_1d = getPercentChange(protocol.tvl, protocol.tvlPrevDay)\n\t\t\tprotocol.change_7d = getPercentChange(protocol.tvl, protocol.tvlPrevWeek)\n\t\t\tprotocol.change_1m = getPercentChange(protocol.tvl, protocol.tvlPrevMonth)\n\t\t\tprotocol.mcaptvl = p.mcap && protocol.tvl ? p.mcap / protocol.tvl : null\n\n\t\t\tObject.entries(p.chainTvls).forEach(([sectionName, sectionTvl]) => {\n\t\t\t\tif (chain) {\n\t\t\t\t\tif (sectionName.startsWith(`${chain}-`)) {\n\t\t\t\t\t\tconst sectionToAdd = sectionName.split('-')[1]\n\t\t\t\t\t\tprotocol.extraTvl[sectionToAdd] = sectionTvl\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst firstChar = sectionName[0]\n\t\t\t\t\tif (firstChar === firstChar.toLowerCase()) {\n\t\t\t\t\t\tprotocol.extraTvl[sectionName] = sectionTvl\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn keepNeededProperties(protocol, protocolProps)\n\t\t})\n\n\treturn data.sort((a, b) => b.tvl - a.tvl)\n}\n","function next22Minutedate(minutesForRollover: number) {\n  const dt = new Date()\n  dt.setMinutes(minutesForRollover)\n  if (dt < new Date()) {\n    dt.setHours(dt.getHours() + 1)\n  }\n  return dt\n}\n\nexport function revalidate(minutesForRollover = 22) {\n  const current = Date.now()\n  const secondsTillRevalidation = Math.ceil((next22Minutedate(minutesForRollover).getTime() - current) / 1000)\n  return secondsTillRevalidation > 0 ? secondsTillRevalidation : 3600\n}\n","import { PROTOCOLS_API } from './../../constants/index'\n\nimport { BasicPropsToKeep, formatProtocolsData } from './utils'\n\nexport const getProtocolsRaw = () => fetch(PROTOCOLS_API).then((r: any) => r.json())\n\n// - used in /airdrops\nexport async function getSimpleProtocolsPageData(propsToKeep?: BasicPropsToKeep) {\n  const { protocols, chains } = await getProtocolsRaw()\n\n  const filteredProtocols = formatProtocolsData({\n    protocols,\n    protocolProps: propsToKeep\n  })\n  return { protocols: filteredProtocols, chains }\n}\n"],"sourceRoot":""}