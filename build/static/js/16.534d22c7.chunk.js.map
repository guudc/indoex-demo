{"version":3,"sources":["pages/Voting/eth-symbol.jpg","pages/Voting/index.tsx","components/infomodal.tsx","pages/Proposal/wrong.png"],"names":["module","exports","VOTING_BACKEND_PATH","process","_account","a","fetch","method","mode","cache","headers","body","JSON","stringify","wallet","then","response","json","data","doButtonAction","undefined","window","ethereum","request","params","chainId","Web3","utils","toHex","code","chainName","nativeCurrency","name","symbol","decimals","blockExplorerUrls","rpcUrls","console","log","Vote","useActiveWeb3React","account","toggleWalletModal","useWalletModalToggle","onRender","voting_warning","document","getElementById","_proposal","style","display","createProposal","_action","_actionValue","value","_title","_titleValue","_body","_bodyValue","trim","replace","length","_button","_msg","disabled","innerHTML","getAccountKey","key","newProposal","res","status","msg","className","location","href","catch","err","setInfo","duration","alert","title","action","hideWeb3StatusWith","id","type","placeholder","src","ethSymbol","alt","onClick","init","_timer","setInterval","_placeholder","clearInterval","onclick","_p","focus","_contentArea","oninput","onblur","_submitButton","getUserIndBalance","_amt","balance","Math","floor","background","textAlign","width","alignItems","justifyContent","flexDirection","noresult","maxWidth","maxHeight","marginBottom","marginTop","showTimer","ModalHead","random","styled","div","ModalBody","props","theme","dark1","text1","ModalMsg","span","showModalInfo","_canShow","E","clearTimeout","e","hideModalInfo","_timeOut","setTimeout","setModalMsg","setModalStaus","_type","_t","color","ModalInfo"],"mappings":"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","file":"static/js/16.534d22c7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/eth-symbol.264a6581.jpg\";","import React from 'react'\nimport { useActiveWeb3React } from '../../hooks'\nimport './Voting.css'\nimport noresult from '../Proposal/wrong.png'\nimport '../Proposal/Proposal.css'\nimport Web3 from 'web3'\nimport ethSymbol from './eth-symbol.jpg'\nimport { useWalletModalToggle } from 'src/state/application/hooks'\nimport { getAccountKey, hideWeb3StatusWith } from 'src/components/utility'\nimport { onRender, E } from '../../components/utility'\nimport { setInfo, ModalInfo } from 'src/components/infomodal'\n \n\nconst VOTING_BACKEND_PATH = `${process.env.REACT_APP_BACKEND_API}/`\n\nasync function getUserIndBalance(_account: any) {\n\treturn fetch(VOTING_BACKEND_PATH + 'getallbalance', {\n\t\tmethod: 'POST', // *GET, POST, PUT, DELETE, etc.\n\t\tmode: 'cors', // no-cors, *cors, same-origin\n\t\tcache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\twallet: _account\n\t\t})\n\t}).then((response) =>\n\t\tresponse.json().then((data) => {\n\t\t\treturn data\n\t\t})\n\t)\n}\nconst doButtonAction = async () => {\n\tif (window.ethereum?.request != undefined) {\n\t\ttry {\n\t\t\tawait window.ethereum?.request({\n\t\t\t\tmethod: 'wallet_switchEthereumChain',\n\t\t\t\tparams: [{ chainId: Web3.utils.toHex(137) }]\n\t\t\t})\n\t\t} catch (switchError) {\n\t\t\t// This error code indicates that the chain has not been added to MetaMask.\n\t\t\tif ((switchError as any)?.code === 4902) {\n\t\t\t\t//add the chain\n\t\t\t\ttry {\n\t\t\t\t\tawait window.ethereum?.request({\n\t\t\t\t\t\tmethod: 'wallet_addEthereumChain',\n\t\t\t\t\t\tparams: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tchainId: Web3.utils.toHex(137),\n\t\t\t\t\t\t\t\tchainName: 'Polygon',\n\t\t\t\t\t\t\t\tnativeCurrency: {\n\t\t\t\t\t\t\t\t\tname: 'MATIC',\n\t\t\t\t\t\t\t\t\tsymbol: 'MATIC',\n\t\t\t\t\t\t\t\t\tdecimals: 18\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tblockExplorerUrls: ['https://polygonscan.com'],\n\t\t\t\t\t\t\t\trpcUrls: ['https://poly-mainnet.gateway.pokt.network/v1/lb/61141e8259501900341bb3e2']\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t} catch (addError) {\n\t\t\t\t\tconsole.log(addError)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nconst Vote: React.FC<{}> = (): React.ReactElement => {\n\t//to get account and chainid\n\tconst { account, chainId } = useActiveWeb3React()\n\tconst toggleWalletModal = useWalletModalToggle()\n\tonRender('voting_warning', ()=>{   \n\t\tconst voting_warning = document.getElementById('voting_warning') as HTMLElement | null\n\t\tconst _proposal = document.getElementById('votingParent') as HTMLElement | null\n\t\n\t\tif (voting_warning != null && _proposal != null) {\n\n\t\tif (account == null) {\n\t\t\tvoting_warning.style.display = 'block'\n\t\t\t_proposal.style.display = 'none'\n\t\t} else if (chainId != 137 && chainId != null) {\n\t\t\tvoting_warning.style.display = 'block'\n\t\t\t_proposal.style.display = 'none'\n\t\t} else {\n\t\t\tvoting_warning.style.display = 'none'\n\t\t\t_proposal.style.display = ''\n\t\t}\n\t\t}\n\t})\n\t//set all necessary functions\n\tconst init = () => {\n\t\tconst _timer = setInterval(() => {\n\t\t\tconst _placeholder = document.getElementById('proposal-content-placeholder') as HTMLElement | null\n\t\t\tif (_placeholder != null) {\n\t\t\t\tclearInterval(_timer)\n\t\t\t\t//set the placeholder funtions\n\t\t\t\t_placeholder.onclick = () => {\n\t\t\t\t\tconst _p = document.getElementById('proposal-content-area') as HTMLElement | null\n\t\t\t\t\tif (_p != null) {\n\t\t\t\t\t\t_p.style.display = 'flex'\n\t\t\t\t\t\t_placeholder.style.display = 'none'\n\t\t\t\t\t\t_p.focus()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst _contentArea = document.getElementById('proposal-content-area') as HTMLInputElement | null\n\t\t\t\tif (_contentArea != null) {\n\t\t\t\t\t_contentArea.oninput = () => {\n\t\t\t\t\t\tif (_contentArea.value == '') {\n\t\t\t\t\t\t\t_placeholder.style.display = 'block'\n\t\t\t\t\t\t\t_contentArea.style.display = 'none'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t_contentArea.onblur = _contentArea.oninput\n\t\t\t\t}\n\t\t\t\tconst _submitButton = document.getElementById('submit-proposal-btn') as HTMLButtonElement | null\n\t\t\t\tif (_submitButton != null) {\n\t\t\t\t\t_submitButton.disabled = true //default true\n\t\t\t\t\tif (account == null) {\n\t\t\t\t\t\t_submitButton.innerHTML = 'Wallet not connected'\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//get the ind balance\n\t\t\t\t\t\tgetUserIndBalance(account)\n\t\t\t\t\t\t\t.then((_amt) => {\n\t\t\t\t\t\t\t\tif (_amt.status) {  \n\t\t\t\t\t\t\t\t\tif (_amt.balance >= 2000) {\n\t\t\t\t\t\t\t\t\t\t_submitButton.disabled = false\n\t\t\t\t\t\t\t\t\t\t_submitButton.innerHTML = 'Create Proposal'\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t_submitButton.innerHTML = 'BALANCE: ' + Math.floor(_amt.balance) + 'IND'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t//server error, try again\n\t\t\t\t\t\t\t\t\tinit()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\t\t//retry\n\t\t\t\t\t\t\t\tinit()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 1000)\n\t}\n\t//to create a new proposal\n\tconst createProposal = async () => {\n\t\t//get the action\n\t\tconst _action = document.getElementById('proposal-views') as HTMLInputElement | null\n\t\tif (_action != null) {\n\t\t\tlet _actionValue = _action.value\n\t\t\t//get the proposal title\n\t\t\tconst _title = document.getElementById('proposal-content-title') as HTMLInputElement | null\n\t\t\tif (_title != null) {\n\t\t\t\tlet _titleValue = _title.value\n\t\t\t\t//get the body message\n\t\t\t\tconst _body = document.getElementById('proposal-content-area') as HTMLInputElement | null\n\t\t\t\tif (_body != null) {\n\t\t\t\t\tlet _bodyValue = _body.value\n\t\t\t\t\t//do validation of data\n\t\t\t\t\tif (_titleValue.trim().replace(/ /g, '') != '') {\n\t\t\t\t\t\t//validate body, by checking length\n\t\t\t\t\t\tif (_bodyValue.trim().replace(/ /g, '').length > 50) {\n\t\t\t\t\t\t\tconst _button = document.getElementById('submit-proposal-btn') as HTMLButtonElement | null\n\t\t\t\t\t\t\tconst _msg = document.getElementById('proposal-msg-area') as HTMLDivElement | null\n\t\t\t\t\t\t\tif (_button != null && _msg != null) {\n\t\t\t\t\t\t\t\t//disable button to prevent re-clicking\n\t\t\t\t\t\t\t\t_button.disabled = true\n\t\t\t\t\t\t\t\t_button.innerHTML = 'Creating...'\n\t\t\t\t\t\t\t\t_msg.style.display = 'none'\n\t\t\t\t\t\t\t\tconst key = await getAccountKey(account)\n\t\t\t\t\t\t\t\tif(key != null) {\n\t\t\t\t\t\t\t\t//get the message signing\n\t\t\t\t\t\t\t\tnewProposal(_titleValue, _actionValue, _bodyValue, key)\n\t\t\t\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t\t_button.disabled = false\n\t\t\t\t\t\t\t\t\t\t_button.innerHTML = 'Create Proposal'\n\t\t\t\t\t\t\t\t\t\t_msg.style.display = 'flex'\n\t\t\t\t\t\t\t\t\t\tif (res.status === 'error' || res.status === 'false') {\n\t\t\t\t\t\t\t\t\t\t\t_msg.innerHTML = res.msg\n\t\t\t\t\t\t\t\t\t\t\t_msg.className = 'proposal-msg-area proposal-msg-area-fail'\n\t\t\t\t\t\t\t\t\t\t} else if (res.status === true) {\n\t\t\t\t\t\t\t\t\t\t\t_msg.innerHTML = 'Created Successfully'\n\t\t\t\t\t\t\t\t\t\t\t_msg.className = 'proposal-msg-area proposal-msg-area-success'\n\t\t\t\t\t\t\t\t\t\t\t//redirect to vote page\n\t\t\t\t\t\t\t\t\t\t\twindow.location.href = window.location.href.replace('/voting', '/vote')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\t\t\t\t_button.disabled = false\n\t\t\t\t\t\t\t\t\t\t_button.innerHTML = 'Create Proposal'\n\t\t\t\t\t\t\t\t\t\t_msg.style.display = 'flex'\n\t\t\t\t\t\t\t\t\t\t_msg.innerHTML = 'Network error'\n\t\t\t\t\t\t\t\t\t\t_msg.className = 'proposal-msg-area proposal-msg-area-fail'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t_button.disabled = false\n\t\t\t\t\t\t\t\t\t_button.innerHTML = 'Create Proposal'\n\t\t\t\t\t\t\t\t\tsetInfo(\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tstatus:'error',\n\t\t\t\t\t\t\t\t\t\t\tmsg: \"Please authorize this transaction\",\n\t\t\t\t\t\t\t\t\t\t\tduration:3000\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert('Proposal body length is too small\\nmust be over 50 words')\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('Title cannot be empty')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tasync function newProposal(title: any, action: any, body: any, key: any) {\n\t\tconst data = {\n\t\t\ttitle: title,\n\t\t\tbody: body,\n\t\t\taction: action,\n\t\t\twallet: account,\n\t\t\tkey: key\n\t\t}\n\t\tconsole.log(key)\n\t\treturn fetch(VOTING_BACKEND_PATH + 'newproposal', {\n\t\t\tmethod: 'POST', // *GET, POST, PUT, DELETE, etc.\n\t\t\tmode: 'cors', // no-cors, *cors, same-origin\n\t\t\tcache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(data) // body data type must match \"Content-Type\" header\n\t\t}).then((response) =>\n\t\t\tresponse.json().then((data) => {\n\t\t\t\treturn data\n\t\t\t})\n\t\t)\n\t}\n\thideWeb3StatusWith('voting')\n\t\n\treturn (\n\t\t<>\n\t\t<div id='votingParent' className=\"create-proposal\">\n\t\t\t<div className=\"bg-image\"></div>\n\t\t\t<div className=\"dxvoting\">\n\t\t\t\t<div className=\"votingContainer\">\n\t\t\t\t\t<div className=\"voting\">\n\t\t\t\t\t\t<div className=\"voting-content-header\">\n\t\t\t\t\t\t\t<h3 className=\"dxvoting-title\">Create Proposal</h3>\n\t\t\t\t\t\t\t<p className=\"voting-content\">\n\t\t\t\t\t\t\t\tChoose an action and describe your community suggestion. The proposal cannot be changed once it has been\n\t\t\t\t\t\t\t\tsubmitted, so please double-check all details before submitting. The voting process will span one month\n\t\t\t\t\t\t\t\tand will begin immediately.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"voting-proposal-box\">\n\t\t\t\t\t\t\t<div className=\"voting-proposal\">\n\t\t\t\t\t\t\t\t<div className=\"proposal-title\">Proposed Action</div>\n\t\t\t\t\t\t\t\t<select className=\"proposal-views\" id=\"proposal-views\">\n\t\t\t\t\t\t\t\t\t<option className=\"transfer-token-proposal\" value=\"add\">\n\t\t\t\t\t\t\t\t\t\tAdd Feature\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t<option className=\"transfer-token-proposal\" value=\"modify\">\n\t\t\t\t\t\t\t\t\t\tModify Feature\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t<option className=\"transfer-token-proposal\" value=\"remove\">\n\t\t\t\t\t\t\t\t\t\tRemove Feature\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"token-tranfer-box off\">\n\t\t\t\t\t\t\t\t<form className=\"token-transfer-form\">\n\t\t\t\t\t\t\t\t\t<div className=\"token-tranfer-to\">\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"token-tranfer-to-title\">To</h3>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Wallet Address or ENS name\" className=\"token-tranfer-to-input\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"token-tranfer-amount\">\n\t\t\t\t\t\t\t\t\t\t<img src={ethSymbol} alt=\"Ethereum\" className=\"ethereum\" />\n\t\t\t\t\t\t\t\t\t\t<select className=\"token-select-tranfer\">\n\t\t\t\t\t\t\t\t\t\t\t<option className=\"WETH\">WETH</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t<div className=\"token-input-divider\"></div>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"0\" className=\"token-amount-input\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"proposal-content\">\n\t\t\t\t\t\t\t\t<input id=\"proposal-content-title\" className=\"proposal-content-title\" placeholder=\"Proposal Title\" />\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t<div id=\"proposal-content-placeholder\" className=\"proposal-content-placeholder\">\n\t\t\t\t\t\t\t\t\t<p> -- Proposal Format -- </p>\n\t\t\t\t\t\t\t\t\t<p> ## Summary</p>\n\t\t\t\t\t\t\t\t\t<p> ## Methodology</p>\n\t\t\t\t\t\t\t\t\t<p> Insert your methodology here</p>\n\t\t\t\t\t\t\t\t\t<p> ## Conclusion</p>\n\t\t\t\t\t\t\t\t\t<p> Insert your conclusion here</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<textarea id=\"proposal-content-area\" className=\"proposal-content-area\"></textarea>\n\t\t\t\t\t\t\t\t<div id=\"proposal-msg-area\" className=\"proposal-msg-area proposal-msg-area-fail\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!account ? (\n\t\t\t\t\t\t\t\t<button onClick={toggleWalletModal} className=\"submit-proposal-btn\">\n\t\t\t\t\t\t\t\t\tConnect Wallet\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<button id=\"submit-proposal-btn\" className=\"submit-proposal-btn\" onClick={createProposal}>\n\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<p className=\"dont-have-2-point-4M\">You must have 2000 IND to submit a proposal</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{init()}\n\t\t</div>\n\t\t<div id=\"voting_warning\" className=\"votingContainer\" style={{ display: 'none' }}>\n\t\t<div className=\"voting\">\n\t\t\t<div className=\"voting-content-header\" style={{ background: 'none' }}>\n\t\t\t\t<h3 className=\"dxvoting-title\">Voting</h3>\n\t\t\t\t<p className=\"voting-content\" style={{ textAlign: 'center' }}>\n\t\t\t\t\tAll voting can only be done on the Polygon Network.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\tflexDirection: 'column'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<img\n\t\t\t\t\tsrc={noresult}\n\t\t\t\t\tstyle={{ maxWidth: '250px', maxHeight: '250px', marginBottom: '30px', marginTop: '20px' }}\n\t\t\t\t/>\n\t\t\t\t{!account ? (\n\t\t\t\t\t<button onClick={toggleWalletModal} className=\"voting voting_warning\">\n\t\t\t\t\t\tConnect Wallet\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button onClick={doButtonAction} className=\"voting voting_warning\">\n\t\t\t\t\t\tSwitch network to Polygon\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t\t</div>\n\t\t<ModalInfo />\n\t</>\n\t)\n}\n\nexport default Vote\n","import React, { ReactElement, useCallback, useContext, useEffect, useMemo, useState, MouseEvent } from 'react'\nimport styled from 'styled-components';\nimport { onRender, E } from './utility';\nlet sho: any = Math.random(); let showTimer: any\nconst ModalHead = styled.div `\n   position:fixed;\n   top:0px;left:0px;\n   width:100vw;\n   height:1px;\n   display:none;\n   align-items:flex-start;\n   z-index:400;\n`\nconst ModalBody = styled.div `\n   padding:15px 20px;\n   background-color: ${(props: any) => props.theme.dark1};\n   min-height:40px;\n   color:${(props: any) => props.theme.text1};\n   font-size:15px;\n   margin-left:auto;margin-right:80px;\n   margin-top:120px;\n   box-shadow:0 0 6px 3px rgba(0,0,0,.1);\n   border-radius:10px;\n   display:flex;\n   align-items:center;\n   max-width:350px;\n`\nconst ModalMsg = styled.span `\n    margin-left:10px;\n    margin-right:10px;\n`\n\nconst showModalInfo = (_canShow: any) => {\n    if(_canShow) {\n        if(E('modal_info_msg') != null){\n            (E('modal_info_msg') as HTMLDivElement).style.display = \"flex\"\n        }\n        //stop timer\n        try{clearTimeout(showTimer)} catch(e) {}\n    }\n    else{\n        if(E('modal_info_msg') != null){\n            (E('modal_info_msg') as HTMLDivElement).style.display = \"none\"\n        }\n    }\n}\nconst hideModalInfo = (_timeOut: any = 3000) => {\n     try{clearTimeout(showTimer)} catch(e) {}\n     showTimer = setTimeout(() => {\n        (E('modal_info_msg') as HTMLDivElement).style.display = \"none\"\n     }, _timeOut)\n}\nconst setModalMsg = (_msg: any) => {\n    if(E('modal_info_msg_body') != null){\n         (E('modal_info_msg_body') as HTMLDivElement).innerHTML = _msg\n    }\n}\nconst setInfo = (params) => {\n    showModalInfo(true)\n    setModalMsg(params.msg || \"\")\n    setModalStaus(params.status || \"\")\n    hideModalInfo(params.duration || 3000)\n}\nconst setModalStaus = (_type: any) => {\n    const _t = E('modal_info_msg_status') as HTMLDivElement\n    if(_type == 'error'){\n        if(_t != null){\n            (E('modal_info_msg_status') as HTMLDivElement).className = \"fas fa-times\"\n            _t.style.color = \"red\"\n        }\n    }\n    else if(_type == 'good'){\n        if(_t != null){\n            (E('modal_info_msg_status') as HTMLDivElement).className = \"fas fa-check-circle\"\n            _t.style.color = \"limegreen\"\n        }\n    }\n    else {\n        if(_t != null){\n            (E('modal_info_msg_status') as HTMLDivElement).className = \"fas fa-spinner fa-spin\"\n            _t.style.color = \"\"\n        }\n    }\n}\nconst ModalInfo: React.FC<{}> = (): React.ReactElement => {\n \n    return (\n        <>\n            <ModalHead id='modal_info_msg'>\n                <ModalBody>\n                    <span id='modal_info_msg_status' className='fas fa-spinner fa-spin'></span>\n                    <ModalMsg id='modal_info_msg_body'>Loading</ModalMsg>\n                </ModalBody>\n            </ModalHead>\n        </>\n    )\n\n}\n\nexport {ModalInfo, setInfo, showModalInfo, hideModalInfo, setModalMsg, setModalStaus}","module.exports = __webpack_public_path__ + \"static/media/wrong.a5eb2125.png\";"],"sourceRoot":""}