(this["webpackJsonpdxswap-dapp"]=this["webpackJsonpdxswap-dapp"]||[]).push([[33],{1253:function(e,t,n){"use strict";n.r(t);var r,a,o,c,l,i,u,m,s,h=n(2),p=n.n(h),d=n(17),f=n(13),g=n(16),E=n(18),b=n(5),y=n(0),v=n.n(y),j=n(7),O=n(305),C=n(665),T=n(72),x=j.default.div(r||(r=Object(b.a)(["\n\twidth: 100%;\n\toverflow: visible;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin: auto;\n"]))),_=j.default.form(a||(a=Object(b.a)(["\n\twidth: calc(100% - 40px);\n\tmax-width: 400px;\n\tbackground-color: ",";\n\tborder: 1px solid ",";\n\tborder-radius: 8px;\n\tpadding: 1rem;\n"])),(function(e){return e.theme.bg1}),(function(e){return e.theme.bg2})),S=j.default.h2(o||(o=Object(b.a)(["\n\tfont-size: 1.3rem;\n\ttext-align: center;\n\tmargin-bottom: 1rem;\n"]))),A=j.default.div(c||(c=Object(b.a)(["\n\tmargin-bottom: 1.5rem;\n"]))),w=j.default.label(l||(l=Object(b.a)(["\n\tfont-size: 1rem;\n"]))),z=j.default.input(i||(i=Object(b.a)(["\n\tbackground: none;\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 0.5rem;\n\tfont-size: 1rem;\n\tborder: 1px solid #eaeaea;\n\tcolor: #ffffff;\n\tborder-radius: 5px;\n\tmargin-bottom: 0.5rem;\n\t&:focus {\n\t\toutline: none;\n\t\tcolor: #ffffff;\n\t\tborder-color: #eaeaea;\n\t\tborder-width: 2px;\n\t}\n\t",";\n"])),(function(e){return e.error&&"\n    border-color: #f44336;\n  "})),k=j.default.button(u||(u=Object(b.a)(["\n\twidth: 100%;\n\tcursor: pointer;\n\ttransition: all 0.5s ease;\n\tbackground-color: #7eb946;\n\tcolor: #212121;\n\tfont-size: 1rem;\n\tpadding: 0.5rem 1rem;\n\tborder: none;\n\tborder-radius: 5px;\n\t&:hover {\n\t\tbackground-color: #212121;\n\t\tcolor: #eaeaea;\n\t}\n"]))),F=j.default.p(m||(m=Object(b.a)(["\n\tfont-size: 1rem;\n\tcolor: #f44336;\n"]))),P=j.default.p(s||(s=Object(b.a)(["\n\tfont-size: 1rem;\n\tcolor: #4caf50;\n"])));t.default=function(e){var t=e.history,n=Object(O.b)().token,r=Object(y.useState)(null),a=Object(E.a)(r,2),o=a[0],c=a[1],l=Object(y.useState)({name:"",user:"",url:"",change_1d:"",change_1m:"",change_7d:"",logo:"",mcaptvl:"",symbol:"",tvl:"",chains:"",category:"",chainTvls:"",extraTvl:""}),i=Object(E.a)(l,2),u=i[0],m=i[1],s=Object(y.useState)({nameError:"",urlError:"",logoError:"",tvlError:"",chainsError:"",categoryError:""}),h=Object(E.a)(s,2),b=h[0],j=h[1],B=Object(y.useState)(""),J=Object(E.a)(B,2),N=J[0],L=J[1],D=Object(y.useState)(!1),U=Object(E.a)(D,2),V=U[0],G=U[1],R=Object(y.useState)(""),I=Object(E.a)(R,2),M=I[0],q=I[1];Object(y.useEffect)((function(){Object(C.d)(n).then((function(e){if(console.log("data: ",e),"Invalid Authentification"===e.message)return alert("Session expired,  Please login"),void Object(O.c)((function(){t.push("/"),setTimeout((function(){window.location.reload()}),1e3)}));c(e.user)}))}),[]);var H=function(e){var t=e.target,n=t.name,r=t.value;m(Object(g.a)(Object(g.a)({},u),{},Object(f.a)({},n,r)))},K=function(){var e="",t="",n="",r="",a="";return u.name||(e="Name cannot be empty"),u.tvl||(n="Total value (tvl) cannot be empty"),u.logo||(t="Logo url cannot be empty"),u.chains||(r="Chains cannot be"),u.category||(a="Category cannot be"),!(e||t||n||r||a)||(j({nameError:"",urlError:"",logoError:"",tvlError:"",chainsError:"",categoryError:""}),!1)},Q=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),G(!0),e.prev=2,!o||!o||0!=o.verified){e.next=6;break}return alert("Please verify your email to continue"),e.abrupt("return");case 6:K()&&(m({name:"",change_1d:"",url:"",change_1m:"",change_7d:"",logo:"",mcaptvl:"",symbol:"",tvl:"",chains:"",category:"",chainTvls:"",extraTvl:"",user:""}),j({nameError:"",urlError:"",logoError:"",tvlError:"",chainsError:"",categoryError:""}),Object(C.f)(n,{name:u.name,change_1d:u.change_1d,change_1m:u.change_1m,change_7d:u.change_7d,logo:u.logo,url:u.url,mcaptvl:u.mcaptvl,symbol:u.symbol,tvl:u.tvl,chains:u.chains,category:u.category,chainTvls:u.chainTvls,extraTvl:u.extraTvl,owner:o.email}).then((function(e){if(1!=e.success)return G(!1),L(""),void q(e.message);G(!1),L(e.message),q("")}))),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),L(""),q("Error submitting airdrop. Please try again later"),G(!1);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return v.a.createElement(v.a.Fragment,null,o&&o&&!o.verified?v.a.createElement(T.a,{to:"/verify-email"}):null,v.a.createElement(A,null,v.a.createElement(k,{type:"submit",onClick:function(e){e.preventDefault(),t.push("/my-airdrops")}},"View your Airdrops")),v.a.createElement(x,null,v.a.createElement(_,{onSubmit:Q},v.a.createElement(S,null,"Submit Airdrop Details"),N?v.a.createElement(P,null,N):null,M?v.a.createElement(F,null,M):null,v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"name"},"Name"),v.a.createElement(z,{type:"text",name:"name",value:u.name,onChange:H,error:b.nameError}),b.nameError?v.a.createElement(F,null,b.nameError):null),v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"url"},"URL"),v.a.createElement(z,{type:"text",name:"url",value:u.url,onChange:H,error:b.urlError}),b.urlError?v.a.createElement(F,null,b.urlError):null),v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"tvl"},"Total Value(tvl)"),v.a.createElement(z,{type:"number",name:"tvl",value:u.tvl,onChange:H,error:b.tvlError}),b.tvlError?v.a.createElement(F,null,b.tvlError):null),v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"logo"},"Logo URL"),v.a.createElement(z,{type:"text",name:"logo",value:u.logo,onChange:H,error:b.logoError}),b.logoError?v.a.createElement(F,null,b.logoError):null),v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"chains"},"Chains"),v.a.createElement(z,{type:"text",name:"chains",value:u.chains,onChange:H,error:b.chainsError}),b.chainsError?v.a.createElement(F,null,b.chainsError):null),v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"category"},"Category"),v.a.createElement(z,{type:"text",name:"category",value:u.category,onChange:H,error:b.categoryError}),b.categoryError?v.a.createElement(F,null,b.categoryError):null),v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"change_1d"},"Change in 1 day"),v.a.createElement(z,{type:"number",name:"change_1d",value:u.change_1d,onChange:H,error:"",placeholder:"Optional"})),v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"change_1d"},"Change in 7 days"),v.a.createElement(z,{type:"number",name:"change_7d",value:u.change_7d,onChange:H,error:"",placeholder:"Optional"})),v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"change_1d"},"Change in 1 month"),v.a.createElement(z,{type:"number",name:"change_1m",value:u.change_1m,onChange:H,error:"",placeholder:"Optional"})),v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"symbol"},"Symbol"),v.a.createElement(z,{type:"text",name:"symbol",value:u.symbol,onChange:H,error:"",placeholder:"Optional"})),v.a.createElement(A,null,v.a.createElement(w,{htmlFor:"mcaptvl"},"Market Cap Total Value(mcaptvl)"),v.a.createElement(z,{type:"number",name:"mcaptvl",value:u.mcaptvl,onChange:H,error:"",placeholder:"Optional"})),v.a.createElement(A,null,V?v.a.createElement(k,{disabled:!0,type:"submit"},"Submitting..."):v.a.createElement(k,{type:"submit"},"Submit")))))}},665:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return m}));var r=function(e,t){return fetch("".concat("http://localhost:5000","/sendVerification"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},a=function(e,t){return fetch("".concat("http://localhost:5000","/activate"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},o=function(e,t){return fetch("".concat("http://localhost:5000","/submit-airdrop"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},c=function(e,t,n){return fetch("".concat("http://localhost:5000","/update/airdrop/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return fetch("".concat("http://localhost:5000","/delete/airdrop/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},i=function(e){return fetch("".concat("http://localhost:5000","/my-airdrops"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return fetch("".concat("http://localhost:5000","/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},m=function(e,t){return fetch("".concat("http://localhost:5000","/updatePassword"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}}}]);
//# sourceMappingURL=33.238ca7ae.chunk.js.map